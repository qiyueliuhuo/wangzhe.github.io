<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>history</title>
      <link href="/2020/04/03/history/"/>
      <url>/2020/04/03/history/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>《人性的弱点》笔记</title>
      <link href="/2019/05/19/%E3%80%8A%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9%E3%80%8B%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/05/19/%E3%80%8A%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9%E3%80%8B%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="第一章-待人处世的基本技巧"><a href="#第一章-待人处世的基本技巧" class="headerlink" title="第一章 待人处世的基本技巧"></a>第一章 待人处世的基本技巧</h2><blockquote><p>只有那些不够明智的人才会去批评、职责和抱怨他人。的确，很多蠢人都这么做。与其抱怨、责备，不如多一些理解，设身处地地为他们想想，为什么他们会这么做，这样做比批评更加有益，而且这样，就会使我们产生同情、容忍、仁慈之心。</p></blockquote><ul><li>无端指责别人并不能解决问题</li><li>批评是徒劳的，因为它会使人过于保守，并常使他竭力的证明自己。批评也是危险的，因为它伤害一个人宝贵的自尊心，伤害他的自重感，并激起他的反抗。</li><li>人类的天性就是如此，做错事的人只会责备别人而不会责备自己。</li><li>我们要明白批评就好像是家鸽，它们总会飞回家。我们应该明白我们要矫正及谴责的人都会为他自己辩护，从而反过来谴责我们。 </li><li>每个人都喜欢被人恭维。</li><li>寻求自重感的欲望是人类与动物的主要差别之一。</li><li>有的人甚至用装病来得到别人的同情、注意及自重感。</li><li>如果有所谓的成功的秘诀的话，那就是你站在对方的立场，由他的观点看事，同时兼顾自己的观点。</li><li>能设身于他人处境的人，能了解他们心理活动的人是不必为他们的前途顾虑的。</li></ul><h2 id="第二章-如何使人喜欢你"><a href="#第二章-如何使人喜欢你" class="headerlink" title="第二章 如何使人喜欢你"></a>第二章 如何使人喜欢你</h2><blockquote><p>关于成功的商业交往，没有什么神秘的——专心注意对你讲话的人、静静地倾听、记得比人的名字、没有别的东西会让人如此开心。当然，你也应该意识到，我们经常是因为自身的特点而不是优点招人喜欢。</p></blockquote><ul><li>我们都知道，有的人，这一生都在错误地让别人对他们自己感兴趣。当然，这是不行的。他们对你不感兴趣，他们对我也不感兴趣。他们只对他们自己感兴趣，不论早晨、中午，还是晚饭后。</li><li>对别人不感兴趣的人，生活中遭遇的困难最大，对别人造成的损害也最大，所有的人类失败，都在这些人身上发生。</li><li>我们对别人的事情感兴趣，别人才会对我们的事情感兴趣。</li><li>真诚是必不可少的，要培养真正的友谊，或是帮助别人又帮助自己，那么就要记着，对你身边的人和事表现出足够的关心。</li><li>世界上每个人都在寻求快乐——但是只有一个方法可以确实地得到快乐，那就是自己控制自己的思想。</li><li>如果你不照着去做，阅读是不会给你带来任何效果的。</li><li>思想是至高无上的。保持一个良好的心态——勇敢、诚实、乐观的态度。</li><li>微笑表明心境很好。面露平和欢愉的微笑，说明充实满足，能善待别人。这样的人一定会感染别人，别人自然乐于与之交往。</li><li>在谈话中，他会费劲心思将别人的名字反复记忆，并在脑海中试着把这人的姓名与这人的面孔、神色及外观联系起来记忆。</li><li>所有这些事都需要花心思。艾默生说“良好的礼貌修养是从小事中积累起来的。”</li><li>记住，把这个人的名字当做是人类语言中最甜美最重要的声音来记忆。</li><li>静听是我们对别人的一种最高的恭维。</li><li>讨厌的人，他们就是——被他们自私的心及他们自重感麻痹了的讨厌的人。他们只谈论自己，只为自己设想。</li><li>如果你希望成为一个善于谈话的人，要先学会做一个注意静听的人。要使人对你感兴趣，先激发那人的兴趣。问别人喜欢回答的问题，鼓励他谈论他自己及他的成就。</li><li>通到人心的大路就是跟对方谈论他最以为宝贵的事情。</li><li>无论面对什么样的人物，一定要找到他所感兴趣的事，让他先高兴起来，这样你就比较容易接近他了。</li><li>自重的欲望是人类天性中最深刻的冲动。</li><li>曾统治过大英帝国的迪拜累利说道：“同人们谈谈他们自己，他们会愿意听上好几个钟头。”如果你真诚地这样做，你就赢得了别人的尊重。</li></ul><h2 id="第三章-如何使人信服你"><a href="#第三章-如何使人信服你" class="headerlink" title="第三章 如何使人信服你"></a>第三章 如何使人信服你</h2><blockquote><p>如果你想赢得人心，首先要让他人相信你是他最真诚的朋友。就像有一滴蜂蜜吸引住他的心，通往他的理性。使人信服于你，你就一定要让他人感受到你的真诚。</p></blockquote><ul><li>恨不能止恨，爱能止恨。</li><li>永远不要用辩论来停止误会，应该用一些技巧、外交来和解，还要兼顾对方的观点，用恰当的方式使辩论停止。</li><li>当你指出对方的错误时，对方会因此同意你的观点吗？绝对不会！因为你直接打击了他们的智慧、判断、尊荣和自尊。</li><li>记住那句古老的谚语：“用争夺的方法，你将永远得不到满足，但用让步的方法，你可得到比你期望的更多。”如果你错了，就迅速而真诚地承认。</li><li>太阳能比风更快地使老人脱下外套，温和、友善和赞赏的态度也能使人改变心意，这是咆哮和猛烈攻击所难以奏效的。请记住林肯所说的话：“一滴蜂蜜要比一加仑的胆汁招引更多的苍蝇。”</li><li>如果你想说服别人，又不想让人感觉你是把你的观点强加给他的，那么，记住苏格拉底的话，向对方发一个温柔的问题，得到“是”的回应。</li><li>法国哲学家罗素说：“如果你想与人结仇，那你就胜过你的朋友；但如果你要得到朋友，那就让你的朋友胜过你。”</li><li>没有人喜欢强迫接受推销，或被人强迫去做一件事。我们都喜欢按照自己的想法购买东西，或按照自己的想法做事，我们很高兴别人征询我们的愿望、需求和意见。</li><li>这是一个充满戏剧化的时代，仅仅陈述事实是不够的，还需要把事实生动化、趣味化、戏剧化。你必须学会表演。电影这样做，电视这样做，如果你像被人注意，你也必须这样做。</li></ul><h2 id="第四章-如何更好地说服他人"><a href="#第四章-如何更好地说服他人" class="headerlink" title="第四章 如何更好地说服他人"></a>第四章 如何更好地说服他人</h2><blockquote><p>称赞是温暖他人心灵的阳光，没有阳光，我们就没有花儿和收成。称赞会给他一种自重感，这样他就会与你保持合作，而不是背叛。</p></blockquote><ul><li>从赞扬和欣赏开始，就像理发师在替人修面之前，要先把涂上肥皂一样，可以减少被划破的可能，而赞扬和欣赏可以更好地改变和说服一个人。</li><li>对那些非常敏感的人，用巧妙的暗示，让他们改正自己的错误，会收到奇妙的效果。</li><li>在批评对方以前，首先陈述你自己的错误，比你直接批评他会产生更神奇的效果。</li><li>有时即使我们是对的，别人是错的，如果让他过于丢面子的话，只会让事情变得更糟。所以，无论何时，我们都要记住：使对方保持他的面子。这也是你有修养的体现。</li><li>当一个人收到批评时，他的能力就会降低，而当他受到鼓励时，他就会精神焕发。要“诚于嘉许，宽于称道”。</li></ul><h2 id="第五章-如何让你的家庭幸福快乐"><a href="#第五章-如何让你的家庭幸福快乐" class="headerlink" title="第五章 如何让你的家庭幸福快乐"></a>第五章 如何让你的家庭幸福快乐</h2><blockquote><p>在地狱中，魔鬼为了破坏爱情而发明的一定会成功而恶毒的方法中，唠叨就是很厉害的了。它永远不会失败，就像眼镜蛇咬人一样，总是具有破坏性，总是会置于人于死命。用宽容、爱和欣赏代替唠叨，才会让你的家庭更幸福。</p></blockquote><ul><li>当婚姻出现裂痕时，一定要让自己冷静下来，问问自己，是不是自己也有过错。</li><li>如果你要维持家庭生活的幸福快乐，一定要记住：“绝对绝对不可以唠叨”</li><li>如果你要家庭生活幸福快乐，一定要记住“不要想按着你的意思，来改变你的伴侣。”</li><li>和别人相处要学的第一件事，就是对于他们寻求快乐的特别方式不要加以干涉，如果这些方式并没有强烈妨碍到我们的话。</li><li>夫妻相处之道在于坦诚与体谅，世界上没有完美的配偶，但你一定要懂得经营，聪明的人懂得怎样使不可能完美的婚姻变得尽可能的完美。</li><li>多些信任和接纳，给予空间，并以行动表示谅解；多包容，多忍耐，多欣赏，少批评，少抱怨。</li><li>相互信任和包容，才是幸福婚姻的良方。</li><li>许多罗曼蒂克的梦想破灭了！50%以上的婚姻不幸福。原因之一是：毫无用处却令人心碎的批评。</li><li>对于女人在打扮美丽和穿着入时方面所花去的心思，男人应该表示出他的激赏。所有的男人，都知道女人非常注意衣着，但也常常忘记这件事。</li><li>我们男人真应该认清这点，法国上层阶级的男人，在这方面很有教养，不但对女人穿戴的衣帽表示赞美，并且在一个晚上不止赞美一次，而是好几次。五千万个法国男人都这么做，一定有他们的道理。</li><li>如果女人要从她的丈夫之处得到快乐，那一定是得自他赞赏和忠实的热爱。</li><li>无论男人或女人，都希望获得赞美和热爱。如果能够真心地表示赞赏和热爱，就会得到幸福快乐。</li><li>女人对生日，或是什么纪念日，会很重视！那是什么原因？那该是女人心理上的一个神秘的谜！</li><li>成功的关系是建立于日常的关心和爱护的基础上。所以，要想保持家庭生活快乐，一定要记住注重那些看似小事的事情。</li><li>有千万个家庭，就有千万种生活方式。虽然生活方式各不相同，但有一个准则在生活中要注意，这是生活安定平和的保证：不要忽视生活小节。</li><li>不讲理是吞食爱情的癌细胞。虽然我们都知道这一点，但糟糕的是，我们对待自己的亲人，居然赶不上对待陌生人那样有礼。</li></ul><h2 id="第六章-经营好自己的人生"><a href="#第六章-经营好自己的人生" class="headerlink" title="第六章 经营好自己的人生"></a>第六章 经营好自己的人生</h2><blockquote><p>我们已经在美好的童话国度生活了许多年，可我们一无所知，被蒙蔽住了双眼，拥有得太多，却忽略了生活真正乐趣</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 人生 </tag>
            
            <tag> 社交 </tag>
            
            <tag> 生活 </tag>
            
            <tag> 智慧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>书籍</title>
      <link href="/2019/05/04/%E4%B9%A6%E7%B1%8D/"/>
      <url>/2019/05/04/%E4%B9%A6%E7%B1%8D/</url>
      
        <content type="html"><![CDATA[<blockquote><p>如今你的气质里，藏着你走过的路，读过的书和爱过的人。 —— 《卡萨布兰卡》  </p></blockquote><p>闲来无事，把自己从高中、大学和毕业一年看过的书做一个统计，方便自己有空余时间可以将一些好的书籍反复看，毕竟有太多书籍值得反复研读，另外，也是对自己看书历程的记录，希望不断鞭策自己多读书，读好书，当然，也是方便别人对自己的了解。</p><p>记录必读书籍，分为已读完、正在读、未读、未读完</p><h2 id="技术与算法"><a href="#技术与算法" class="headerlink" title="技术与算法"></a>技术与算法</h2><p>心得：实践、做题</p><h3 id="已读书籍"><a href="#已读书籍" class="headerlink" title="已读书籍"></a>已读书籍</h3><table><thead><tr><th align="center">书名</th><th align="center">介绍</th><th align="center">阅读进度</th></tr></thead><tbody><tr><td align="center">《精通Spring 4.x  企业应用开发实战》</td><td align="center">一本比较全面且易学的spring书籍</td><td align="center">已读</td></tr><tr><td align="center">《鸟哥的Linux私房菜-基础学习篇》</td><td align="center">最具知名度的Linux入门书</td><td align="center">已读</td></tr><tr><td align="center">《架构探险：从零开始写JavaWeb框架》</td><td align="center">step by step，值得实践的好书</td><td align="center">已读</td></tr><tr><td align="center">《淘宝技术这十年》</td><td align="center">淘宝从小到大的技术发展历程</td><td align="center">已读</td></tr><tr><td align="center">《Java核心技术-卷一》</td><td align="center">系统全面讲解了Java语言</td><td align="center">已读</td></tr><tr><td align="center">《C++Primer第5版》</td><td align="center">C++初学者的最佳指南</td><td align="center">已读</td></tr></tbody></table><h3 id="正在读书籍"><a href="#正在读书籍" class="headerlink" title="正在读书籍"></a>正在读书籍</h3><table><thead><tr><th align="center">书名</th><th align="center">介绍</th><th align="center">阅读进度</th></tr></thead><tbody><tr><td align="center">《深入理解Java虚拟机 JVM高级特性与最佳实践(第二版)》</td><td align="center">java学习进阶</td><td align="center">已读2/5</td></tr><tr><td align="center">《大型分布式网站架构》</td><td align="center">原理与实践结合、分布式网站技术的全貌</td><td align="center">已读3/5</td></tr></tbody></table><h3 id="未读、未读完书籍"><a href="#未读、未读完书籍" class="headerlink" title="未读、未读完书籍"></a>未读、未读完书籍</h3><table><thead><tr><th align="center">书名</th><th align="center">介绍</th><th align="center">阅读进度</th></tr></thead><tbody><tr><td align="center">《算法导论》</td><td align="center">严谨性和全面性融为一体</td><td align="center">未读完</td></tr><tr><td align="center">《机器学习》周志华</td><td align="center">西瓜书机器学习领域全面的中文入门教材</td><td align="center">未读完</td></tr><tr><td align="center">《SQL学习指南（第2版 修订版）》</td><td align="center"></td><td align="center">未读</td></tr></tbody></table><h2 id="小说、人文、励志"><a href="#小说、人文、励志" class="headerlink" title="小说、人文、励志"></a>小说、人文、励志</h2><p>心得：认同、生活指导</p><h3 id="已读书籍-1"><a href="#已读书籍-1" class="headerlink" title="已读书籍"></a>已读书籍</h3><table><thead><tr><th align="center">书名</th><th align="center">介绍</th><th align="center">阅读进度</th></tr></thead><tbody><tr><td align="center">《平凡的世界》</td><td align="center">苦难转化为前行的精神动力</td><td align="center">已读</td></tr><tr><td align="center">《三体》</td><td align="center">仰望星空才知道自己多么渺小</td><td align="center">已读</td></tr><tr><td align="center">《大漠苍狼》</td><td align="center">黑洞、虫洞、穿越、时间循环</td><td align="center">已读</td></tr><tr><td align="center">《鬼吹灯》</td><td align="center">人点烛，鬼吹灯</td><td align="center">已读</td></tr><tr><td align="center">《盗墓笔记》</td><td align="center">最大的敌人不是粽子或机关，而是自身的恐惧</td><td align="center">已读</td></tr><tr><td align="center">《上帝掷骰子吗》</td><td align="center">与最伟大的物理学家们并肩作战，经历一次量子之旅</td><td align="center">已读</td></tr><tr><td align="center">《就喜欢你看不惯我又干不掉我的样子》</td><td align="center">一只叫“吾皇”的胖猫、一只叫“巴扎黑”的萌狗以及少年主人的生活趣事</td><td align="center">已读</td></tr><tr><td align="center">《我不喜欢这世界，我只喜欢你》</td><td align="center">一本让你相信爱情的治愈书籍</td><td align="center">已读</td></tr><tr><td align="center">《穆斯林的葬礼》</td><td align="center">人可以失落一切，唯独不应该失落自己。</td><td align="center">已读</td></tr><tr><td align="center">《撒哈拉的故事》</td><td align="center">撒哈拉生活的点点滴滴，三毛与荷西的真挚的爱情</td><td align="center">已读</td></tr><tr><td align="center">《天才在左，疯子在右》</td><td align="center"></td><td align="center">已读</td></tr></tbody></table><h3 id="正在读书籍-1"><a href="#正在读书籍-1" class="headerlink" title="正在读书籍"></a>正在读书籍</h3><table><thead><tr><th align="center">书名</th><th align="center">介绍</th><th align="center">阅读进度</th></tr></thead><tbody><tr><td align="center">《人性的弱点》</td><td align="center">自我教育与人际交往的人生准则</td><td align="center">已读4/5</td></tr><tr><td align="center">《非暴力沟通》</td><td align="center">观察、感受、需要、请求</td><td align="center">已读2/5</td></tr><tr><td align="center">《羊皮卷》</td><td align="center">超越自我，砥砺前行</td><td align="center">已读0/5</td></tr></tbody></table><h3 id="未读、未读完书籍-1"><a href="#未读、未读完书籍-1" class="headerlink" title="未读、未读完书籍"></a>未读、未读完书籍</h3><table><thead><tr><th align="center">书名</th><th align="center">介绍</th><th align="center">阅读进度</th></tr></thead><tbody><tr><td align="center">《金字塔原理》</td><td align="center"></td><td align="center">未读</td></tr><tr><td align="center">《三体Ⅱ·黑暗森林》</td><td align="center"></td><td align="center">未读</td></tr><tr><td align="center">《少有人走的路》</td><td align="center"></td><td align="center">未读</td></tr><tr><td align="center">《哲学家们都干了些什么》</td><td align="center"></td><td align="center">未读</td></tr><tr><td align="center">《佛祖都说了些什么》</td><td align="center"></td><td align="center">未读</td></tr><tr><td align="center">《学会提问》</td><td align="center"></td><td align="center">未读</td></tr><tr><td align="center">《经济学原理》曼昆版本</td><td align="center"></td><td align="center">未读</td></tr></tbody></table><h2 id="理财"><a href="#理财" class="headerlink" title="理财"></a>理财</h2><p>心得：长期</p><h3 id="已读书籍-2"><a href="#已读书籍-2" class="headerlink" title="已读书籍"></a>已读书籍</h3><table><thead><tr><th align="center">书名</th><th align="center">介绍</th><th align="center">阅读进度</th></tr></thead><tbody><tr><td align="center">《小狗钱钱》</td><td align="center">财富启蒙读物，改变自己对于财富的观念</td><td align="center">已读4/5</td></tr></tbody></table><h3 id="未读、未读完书籍-2"><a href="#未读、未读完书籍-2" class="headerlink" title="未读、未读完书籍"></a>未读、未读完书籍</h3><table><thead><tr><th align="center">书名</th><th align="center">介绍</th><th align="center">阅读进度</th></tr></thead><tbody><tr><td align="center">《漫步华尔街》</td><td align="center"></td><td align="center">未读</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>阅读书籍应该有的态度</title>
      <link href="/2019/03/31/%E9%98%85%E8%AF%BB%E4%B9%A6%E7%B1%8D%E5%BA%94%E8%AF%A5%E6%9C%89%E7%9A%84%E6%80%81%E5%BA%A6/"/>
      <url>/2019/03/31/%E9%98%85%E8%AF%BB%E4%B9%A6%E7%B1%8D%E5%BA%94%E8%AF%A5%E6%9C%89%E7%9A%84%E6%80%81%E5%BA%A6/</url>
      
        <content type="html"><![CDATA[<p>忘记在哪本书上看到的，当时保存了图片，觉得很有道理，现在摘抄下，也提醒自己。</p><h3 id="1-慢一点，你理解的越多，需要记的就越少。"><a href="#1-慢一点，你理解的越多，需要记的就越少。" class="headerlink" title="1. 慢一点，你理解的越多，需要记的就越少。"></a>1. 慢一点，你理解的越多，需要记的就越少。</h3><blockquote><p>不要光是看看就行了。停下来，好好想一想。书中提出问题的时候，你不要直接去翻答案。可以假想真的有人在问你这个问题。你让大脑想得越深入，就越有可能学会并记住它。</p></blockquote><h3 id="2-做练习，自己记笔记。"><a href="#2-做练习，自己记笔记。" class="headerlink" title="2. 做练习，自己记笔记。"></a>2. 做练习，自己记笔记。</h3><blockquote><p>不要只是坐在那里看着练习发呆。拿出笔来，写一写画一画。大量研究都证实，学习过程中如果能实际动动手，将改善你的学习。</p></blockquote><h3 id="3-阅读“没有傻问题”部分"><a href="#3-阅读“没有傻问题”部分" class="headerlink" title="3. 阅读“没有傻问题”部分"></a>3. 阅读“没有傻问题”部分</h3><blockquote><p>顾明思义。这些问题不是可有可无的旁注，它们绝对是核心内容的一部分！千万不要跳过去不看。</p></blockquote><h3 id="4-上床睡觉之前不要再看别的书，至少不要看其他有难度的东西。"><a href="#4-上床睡觉之前不要再看别的书，至少不要看其他有难度的东西。" class="headerlink" title="4. 上床睡觉之前不要再看别的书，至少不要看其他有难度的东西。"></a>4. 上床睡觉之前不要再看别的书，至少不要看其他有难度的东西。</h3><blockquote><p>学习中有一部分是在你合上书之后完成的（特别是，要把学到的知识长久地记住，这往往无法在看书的过程中做到）。你的大脑也需要有自己的时间，这样才能再做一些处理。如果在这段处理时间内你又往大脑里灌输了新的知识。那么你刚才学的一些东西就会丢掉。</p></blockquote><h3 id="5-要喝水，而且要多喝一点水。"><a href="#5-要喝水，而且要多喝一点水。" class="headerlink" title="5. 要喝水，而且要多喝一点水。"></a>5. 要喝水，而且要多喝一点水。</h3><blockquote><p>能提供充足的液体，你的大脑才能有最佳表现。如果缺水（可能在你感觉到口渴之前就已经缺水了），学习能力就会下降。</p></blockquote><h3 id="6-讲出来，而且要大声讲出来。"><a href="#6-讲出来，而且要大声讲出来。" class="headerlink" title="6. 讲出来，而且要大声讲出来。"></a>6. 讲出来，而且要大声讲出来。</h3><blockquote><p>说话可以刺激大脑的另一部分。如果你想看懂什么，或者想更牢地记住它，就要大声地说出来。更好的办法是，大声地解释给别人听。这样你会学得更快，而且可能会新的发现，这是以前光看不说的时候所没有的。</p></blockquote><h3 id="7-听听你的大脑怎么说。"><a href="#7-听听你的大脑怎么说。" class="headerlink" title="7. 听听你的大脑怎么说。"></a>7. 听听你的大脑怎么说。</h3><blockquote><p>注意一下你的大脑是不是负担太重了。如果发现自己开始浮光</p></blockquote><h3 id="8-要有点感觉。"><a href="#8-要有点感觉。" class="headerlink" title="8. 要有点感觉。"></a>8. 要有点感觉。</h3><blockquote><p>你的大脑需要知道这是很重要的东西。要真正融入到书中的故事里。为书里的照片加上你自己的图题。你可能觉得一个笑话很蹩脚，不太让人满意，但这总比根本无动于衷要好。</p></blockquote><h3 id="9-真正做些工作。"><a href="#9-真正做些工作。" class="headerlink" title="9. 真正做些工作。"></a>9. 真正做些工作。</h3><blockquote><p>把这些知识应用到你的日常工作中去，利用你所学的方法完成项目决策。具体做些工作，你会得到书中练习和活动以外的经验。</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>PyCharm之Matplotlib不显示图像(for Mac)</title>
      <link href="/2019/03/23/PyCharm%E4%B9%8BMatplotlib%E4%B8%8D%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F-for-Mac/"/>
      <url>/2019/03/23/PyCharm%E4%B9%8BMatplotlib%E4%B8%8D%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F-for-Mac/</url>
      
        <content type="html"><![CDATA[<h1 id="python-virtualenv创建独立环境中-Matplotlib不显示图像-for-Mac"><a href="#python-virtualenv创建独立环境中-Matplotlib不显示图像-for-Mac" class="headerlink" title="python virtualenv创建独立环境中 Matplotlib不显示图像(for Mac)"></a>python virtualenv创建独立环境中 Matplotlib不显示图像(for Mac)</h1><h2 id="系统版本：MacOS-Mojave-10-14-1"><a href="#系统版本：MacOS-Mojave-10-14-1" class="headerlink" title="系统版本：MacOS Mojave 10.14.1"></a>系统版本：MacOS Mojave 10.14.1</h2><h2 id="参考：https-blog-csdn-net-Feng512275-article-details-80102128"><a href="#参考：https-blog-csdn-net-Feng512275-article-details-80102128" class="headerlink" title="参考：https://blog.csdn.net/Feng512275/article/details/80102128"></a>参考：<a href="https://blog.csdn.net/Feng512275/article/details/80102128" target="_blank" rel="noopener">https://blog.csdn.net/Feng512275/article/details/80102128</a></h2><p>试了上面文章的几种解决方法后还是没法解决，网上找了一大堆文章，还是没有解决，之后还是在stackoverflow中看到一种可能的问题，附上链接<a href="https://stackoverflow.com/questions/22304215/gtk-backend-requires-pygtk-to-be-installed，当看到有答主给出这个解决方式$" target="_blank" rel="noopener">https://stackoverflow.com/questions/22304215/gtk-backend-requires-pygtk-to-be-installed，当看到有答主给出这个解决方式$</a> virtualenv –system-site-packages ~/.virtualenvs/my_env 才想起来之前创建python运行环境时运行了这个virtualenv -p /usr/bin/python –no-site-packages venv，参数–no-site-packages 代表系统Python环境中的所有第三方包都不会复制过来，删掉venv目录，重新运行 virtualenv -p /usr/bin/python –system-site-packages venv 后，再安装matplotlib库可以显示图片<br><strong>继承本机的pyhon环境后不用再装matplotlib了</strong><br><strong>猜测：virtualenv中如果在装matplotlib会覆盖mac预装好的matplotlib</strong><br><strong>注意：安装其他包时不要在venv环境下site-package目录下引入matplotlib</strong> </p><h3 id="自己维护python包版本还是太麻烦了，所以最后还是安装anaconda了。"><a href="#自己维护python包版本还是太麻烦了，所以最后还是安装anaconda了。" class="headerlink" title="**自己维护python包版本还是太麻烦了，所以最后还是安装anaconda了。"></a>**自己维护python包版本还是太麻烦了，所以最后还是安装anaconda了。</h3>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那两个整数，并返回他们的数组下标。</title>
      <link href="/2019/03/04/%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%E6%95%B0%E7%BB%84-nums-%E5%92%8C%E4%B8%80%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%80%BC-target%EF%BC%8C%E8%AF%B7%E4%BD%A0%E5%9C%A8%E8%AF%A5%E6%95%B0%E7%BB%84%E4%B8%AD%E6%89%BE%E5%87%BA%E5%92%8C%E4%B8%BA%E7%9B%AE%E6%A0%87%E5%80%BC%E7%9A%84%E9%82%A3%E4%B8%A4%E4%B8%AA%E6%95%B4%E6%95%B0%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E4%BB%96%E4%BB%AC%E7%9A%84%E6%95%B0%E7%BB%84%E4%B8%8B%E6%A0%87%E3%80%82/"/>
      <url>/2019/03/04/%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%E6%95%B0%E7%BB%84-nums-%E5%92%8C%E4%B8%80%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%80%BC-target%EF%BC%8C%E8%AF%B7%E4%BD%A0%E5%9C%A8%E8%AF%A5%E6%95%B0%E7%BB%84%E4%B8%AD%E6%89%BE%E5%87%BA%E5%92%8C%E4%B8%BA%E7%9B%AE%E6%A0%87%E5%80%BC%E7%9A%84%E9%82%A3%E4%B8%A4%E4%B8%AA%E6%95%B4%E6%95%B0%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E4%BB%96%E4%BB%AC%E7%9A%84%E6%95%B0%E7%BB%84%E4%B8%8B%E6%A0%87%E3%80%82/</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述：给定一个整数数组-nums-和一个目标值-target，请你在该数组中找出和为目标值的那两个整数，并返回他们的数组下标。你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。"><a href="#题目描述：给定一个整数数组-nums-和一个目标值-target，请你在该数组中找出和为目标值的那两个整数，并返回他们的数组下标。你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。" class="headerlink" title="题目描述：给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那两个整数，并返回他们的数组下标。你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。"></a>题目描述：给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那两个整数，并返回他们的数组下标。你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。</h4><h4 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h4><ol><li>题目是要求nums中有两个数和是target，那么就应该是nums中会存在一个target - nums[i]的数，这种变换思维是要具备，即当题目需要得到什么结果，将这个结果推到出等价的描述，得到一些充分条件或者必要条件，在想办法（算法）去得到这些条件，当然也要具备一些基础知识，比如hash思想，知道hash方法它有哪些应用场景和它还有可能解决什么问题。</li><li>题目转换为nums中找到一个target - nums[i]的数，那么可以先得到这些target - nums[i]，即得到两个nums.length大小的数组，再去找到两个数组中相同的数，找到相同的数，最容易的方法就是通过hash思想，有很多类似找相同数或者元素都有借助hash思想。<h4 id="java代码"><a href="#java代码" class="headerlink" title="java代码"></a>java代码</h4><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    *  题目1：给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那两个整数，并返回他们的数组下标。</span></span><br><span class="line"><span class="comment">    *  你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素</span></span><br><span class="line"><span class="comment">    *  注：此解决方法有问题，会申请大量内存，优化方向为动态hash表即官方解法。</span></span><br><span class="line"><span class="comment">    *  e.g: 给定 nums = [2, 7, 11, 15], target = 9</span></span><br><span class="line"><span class="comment">    *       因为 nums[0] + nums[1] = 2 + 7 = 9</span></span><br><span class="line"><span class="comment">    *       所以返回 [0, 1]</span></span><br><span class="line"><span class="comment">    * @param nums</span></span><br><span class="line"><span class="comment">    * @param target</span></span><br><span class="line"><span class="comment">    * @return</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] solution01(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">       <span class="keyword">int</span> length = nums.length;</span><br><span class="line">       <span class="built_in">if</span> (length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// 先找到nums中最小值和最大值</span></span><br><span class="line">       <span class="keyword">int</span> <span class="built_in">min</span> = nums[<span class="number">0</span>], <span class="built_in">max</span> = nums[<span class="number">0</span>];</span><br><span class="line">       <span class="built_in">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">           <span class="built_in">if</span> (nums[i] &gt; <span class="built_in">max</span>) &#123;</span><br><span class="line">               <span class="built_in">max</span> = nums[i];</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">if</span> (nums[i] &lt; <span class="built_in">min</span>) &#123;</span><br><span class="line">               <span class="built_in">min</span> = nums[i];</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span> offset = -<span class="built_in">min</span>, tableSize = <span class="built_in">max</span> - <span class="built_in">min</span> + <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">int</span>[] <span class="built_in">map</span> = <span class="keyword">new</span> <span class="keyword">int</span>[tableSize];</span><br><span class="line">       <span class="built_in">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tableSize; i++) &#123;</span><br><span class="line">           <span class="built_in">map</span>[i] = <span class="number">-1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="built_in">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length * <span class="number">2</span>; i++) &#123;</span><br><span class="line">           <span class="built_in">if</span> (i &lt; length) &#123;</span><br><span class="line">               <span class="comment">// 在map中记录下nums的位置信息</span></span><br><span class="line">               <span class="built_in">map</span>[nums[i] + offset] = i;</span><br><span class="line">           &#125; <span class="built_in">else</span> &#123;</span><br><span class="line">               <span class="keyword">int</span> index = target - nums[i - length] + offset;</span><br><span class="line">               <span class="built_in">if</span> (<span class="number">0</span> &lt;= index &amp;&amp; index &lt; tableSize &amp;&amp; <span class="built_in">map</span>[index] != <span class="number">-1</span> &amp;&amp; <span class="built_in">map</span>[index] != i - length) &#123;</span><br><span class="line">                   <span class="built_in">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i - length, <span class="built_in">map</span>[index]&#125;;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 题目1 官方解答</span></span><br><span class="line"><span class="comment">    * @param nums</span></span><br><span class="line"><span class="comment">    * @param target</span></span><br><span class="line"><span class="comment">    * @return</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] solution02(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">       Map&lt;Integer, Integer&gt; <span class="built_in">map</span> = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br><span class="line">       <span class="built_in">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">           <span class="keyword">int</span> complement = target - nums[i];</span><br><span class="line">           <span class="built_in">if</span> (<span class="built_in">map</span>.containsKey(complement)) &#123;</span><br><span class="line">               <span class="built_in">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="built_in">map</span>.<span class="built_in">get</span>(complement), i &#125;;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">map</span>.<span class="built_in">put</span>(nums[i], i);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"No two sum solution"</span>);</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li></ol><p>solution01算法时间复杂度为O(n)，但空间复杂度根据nums的元素决定可能会特别大，该方法不可取。<br>solution02算法时间leetCode上说是复杂度是O(n)，但我认为应该是大于O(n)，因为map.put(nums[i], i);这个操作时间复杂度可能会是log(n)，所以整体复杂度应该略大于O(n)。</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 算法 </tag>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>给定一个字符串s，请计算输出含有连续两个s作为子串的最短字符串-Java版本</title>
      <link href="/2019/02/27/%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2s%EF%BC%8C%E8%AF%B7%E8%AE%A1%E7%AE%97%E8%BE%93%E5%87%BA%E5%90%AB%E6%9C%89%E8%BF%9E%E7%BB%AD%E4%B8%A4%E4%B8%AAs%E4%BD%9C%E4%B8%BA%E5%AD%90%E4%B8%B2%E7%9A%84%E6%9C%80%E7%9F%AD%E5%AD%97%E7%AC%A6%E4%B8%B2-Java%E7%89%88%E6%9C%AC/"/>
      <url>/2019/02/27/%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2s%EF%BC%8C%E8%AF%B7%E8%AE%A1%E7%AE%97%E8%BE%93%E5%87%BA%E5%90%AB%E6%9C%89%E8%BF%9E%E7%BB%AD%E4%B8%A4%E4%B8%AAs%E4%BD%9C%E4%B8%BA%E5%AD%90%E4%B8%B2%E7%9A%84%E6%9C%80%E7%9F%AD%E5%AD%97%E7%AC%A6%E4%B8%B2-Java%E7%89%88%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h2 id="题目描述：给定一个字符串s，请计算输出含有连续两个s作为子串的最短字符串"><a href="#题目描述：给定一个字符串s，请计算输出含有连续两个s作为子串的最短字符串" class="headerlink" title="题目描述：给定一个字符串s，请计算输出含有连续两个s作为子串的最短字符串"></a>题目描述：给定一个字符串s，请计算输出含有连续两个s作为子串的最短字符串</h2><h4 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h4><ol><li>从特殊到一般<br>abc -&gt; abcabc，aba -&gt; ababa，aaa -&gt; aaaa，abcdab -&gt; abcdabcdab</li><li>论证确实是寻找包含s中最后一个字符的s的子串与包含s中第一个字符的s的子串相等的最长子串。</li></ol><ul><li>显然result.length &gt; s.length</li><li>abcdab -&gt; abcdabcd   不能是 abcdabcddc非最短字符串</li></ul><ol start="3"><li>证明</li></ol><ul><li>若result[0…r]为输出的最短字符串，<br>因r &lt;= s.length时，不可能出现两个s作为子串，<br>则r &gt; s.length。</li><li>其他证明略，比较明显。</li></ul><hr><h4 id="java代码"><a href="#java代码" class="headerlink" title="java代码"></a>java代码</h4><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 题目：给定一个字符串s，请计算输出含有连续两个s作为子串的最短字符串</span></span><br><span class="line"><span class="comment">   * e.g：1. 输入abc，输出abcabc  2. 输入abcdab，输出abcdabcd，3. 输入aaa，输出aaaa</span></span><br><span class="line"><span class="comment">   * @param s</span></span><br><span class="line"><span class="comment">   * @return result</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">char</span>[] solution01(<span class="keyword">char</span>[] s) &#123;</span><br><span class="line">      <span class="keyword">int</span> length = s.length;</span><br><span class="line">      <span class="comment">// 记录上一次迭代s(0...i-1)字符串头尾有相同的字符串的字符个数</span></span><br><span class="line">      <span class="keyword">int</span> dp = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">      <span class="built_in">while</span> (i &lt; length) &#123;</span><br><span class="line">          <span class="built_in">if</span> (s[dp] == s[i]) dp++;</span><br><span class="line">          <span class="built_in">else</span> dp = <span class="number">0</span>;</span><br><span class="line">          i++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">if</span> (dp == length - <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="comment">// s = "a" 或者 s = "aaaa"</span></span><br><span class="line">          <span class="keyword">char</span>[] result = <span class="keyword">new</span> <span class="keyword">char</span>[length + <span class="number">1</span>];</span><br><span class="line">          System.arraycopy(s, <span class="number">0</span>, result, <span class="number">0</span>, length);</span><br><span class="line">          result[length] = s[<span class="number">0</span>];</span><br><span class="line">          <span class="built_in">return</span> result;</span><br><span class="line">      &#125; <span class="built_in">else</span> &#123;</span><br><span class="line">          <span class="keyword">char</span>[] result = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">2</span> * length - dp];</span><br><span class="line">          System.arraycopy(s, <span class="number">0</span>, result, <span class="number">0</span>, length);</span><br><span class="line">          System.arraycopy(s, dp, result, length, length - dp);</span><br><span class="line">          <span class="built_in">return</span> result;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 只满足s中只有26个英文字母</span></span><br><span class="line"><span class="comment">   * @param s</span></span><br><span class="line"><span class="comment">   * @return</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">char</span>[] solution02(<span class="keyword">char</span>[] s) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">int</span> length = s.length;</span><br><span class="line">      <span class="keyword">int</span> i = <span class="number">0</span>, j = length - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>, dp = <span class="number">0</span>;</span><br><span class="line">      <span class="built_in">while</span> (i &lt; length - <span class="number">1</span>) &#123;</span><br><span class="line">          head = head * <span class="number">26</span> + (s[i] - <span class="string">'a'</span> + <span class="number">1</span>);</span><br><span class="line">          tail = tail + (s[j] - <span class="string">'a'</span> + <span class="number">1</span>) * (<span class="keyword">int</span>)Math.<span class="built_in">pow</span>(<span class="number">26</span>, i);</span><br><span class="line">          <span class="built_in">if</span> (head == tail) &#123;</span><br><span class="line">              dp = i + <span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          i++; j--;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="built_in">if</span> (dp == length - <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="comment">// s = "a" 或者 s = "aaaa"</span></span><br><span class="line">          <span class="keyword">char</span>[] result = <span class="keyword">new</span> <span class="keyword">char</span>[length + <span class="number">1</span>];</span><br><span class="line">          System.arraycopy(s, <span class="number">0</span>, result, <span class="number">0</span>, length);</span><br><span class="line">          result[length] = s[<span class="number">0</span>];</span><br><span class="line">          <span class="built_in">return</span> result;</span><br><span class="line">      &#125; <span class="built_in">else</span> &#123;</span><br><span class="line">          <span class="keyword">char</span>[] result = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">2</span> * length - dp];</span><br><span class="line">          System.arraycopy(s, <span class="number">0</span>, result, <span class="number">0</span>, length);</span><br><span class="line">          System.arraycopy(s, dp, result, length, length - dp);</span><br><span class="line">          <span class="built_in">return</span> result;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">char</span>[] solution03(<span class="keyword">char</span>[] s) &#123;</span><br><span class="line">      <span class="built_in">return</span> <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">2</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"----------solution01-------------"</span>);</span><br><span class="line">      <span class="comment">// a</span></span><br><span class="line">      <span class="keyword">char</span>[] s1 = <span class="string">"a"</span>.toCharArray();</span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"输入: "</span> + <span class="keyword">String</span>.valueOf(s1)</span><br><span class="line">              + <span class="string">", 输出: "</span> + <span class="keyword">String</span>.valueOf(solution01(s1)));</span><br><span class="line">      <span class="comment">// aaa</span></span><br><span class="line">      <span class="keyword">char</span>[] s2 = <span class="string">"aaa"</span>.toCharArray();</span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"输入: "</span> + <span class="keyword">String</span>.valueOf(s2)</span><br><span class="line">              + <span class="string">", 输出: "</span> + <span class="keyword">String</span>.valueOf(solution01(s2)));</span><br><span class="line">      <span class="comment">// abc</span></span><br><span class="line">      <span class="keyword">char</span>[] s3 = <span class="string">"abc"</span>.toCharArray();</span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"输入: "</span> + <span class="keyword">String</span>.valueOf(s3)</span><br><span class="line">              + <span class="string">", 输出: "</span> + <span class="keyword">String</span>.valueOf(solution01(s3)));</span><br><span class="line">      <span class="comment">// abcdabc</span></span><br><span class="line">      <span class="keyword">char</span>[] s4 = <span class="string">"abcdabc"</span>.toCharArray();</span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"输入: "</span> + <span class="keyword">String</span>.valueOf(s4)</span><br><span class="line">              + <span class="string">", 输出: "</span> + <span class="keyword">String</span>.valueOf(solution01(s4)));</span><br><span class="line"></span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"----------solution02-------------"</span>);</span><br><span class="line">      <span class="comment">// a</span></span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"输入: "</span> + <span class="keyword">String</span>.valueOf(s1)</span><br><span class="line">              + <span class="string">", 输出: "</span> + <span class="keyword">String</span>.valueOf(solution02(s1)));</span><br><span class="line">      <span class="comment">// aaa</span></span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"输入: "</span> + <span class="keyword">String</span>.valueOf(s2)</span><br><span class="line">              + <span class="string">", 输出: "</span> + <span class="keyword">String</span>.valueOf(solution02(s2)));</span><br><span class="line">      <span class="comment">// abc</span></span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"输入: "</span> + <span class="keyword">String</span>.valueOf(s3)</span><br><span class="line">              + <span class="string">", 输出: "</span> + <span class="keyword">String</span>.valueOf(solution02(s3)));</span><br><span class="line">      <span class="comment">// abcdabc</span></span><br><span class="line">      System.out.<span class="built_in">println</span>(<span class="string">"输入: "</span> + <span class="keyword">String</span>.valueOf(s4)</span><br><span class="line">              + <span class="string">", 输出: "</span> + <span class="keyword">String</span>.valueOf(solution02(s4)));</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><hr><h4 id="算法复杂度"><a href="#算法复杂度" class="headerlink" title="算法复杂度"></a>算法复杂度</h4><p>solution01和solution02算法复杂度都是O(n)。</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 算法 </tag>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo学习实践</title>
      <link href="/2019/02/01/hexo%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5/"/>
      <url>/2019/02/01/hexo%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5/</url>
      
        <content type="html"><![CDATA[<h2 id="Hexo-github搭建个人博客"><a href="#Hexo-github搭建个人博客" class="headerlink" title="Hexo github搭建个人博客"></a>Hexo github搭建个人博客</h2><h3 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h3><p>学习地址：<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/</a><br>博客地址：<a href="https://qiyueliuhuo.github.io/" target="_blank" rel="noopener">https://qiyueliuhuo.github.io/</a></p><h3 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h3><ul><li>Node</li><li>Git</li><li>GitHub</li></ul><h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g hexo</span><br></pre></td></tr></table></figure><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在一个空文件夹，如blog中执行</span></span><br><span class="line"><span class="attribute">hexo</span> init</span><br></pre></td></tr></table></figure><h3 id="生成静态页面"><a href="#生成静态页面" class="headerlink" title="生成静态页面"></a>生成静态页面</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">generate</span>  (hexo g 也阔以)</span><br></pre></td></tr></table></figure><h3 id="本地启动"><a href="#本地启动" class="headerlink" title="本地启动"></a>本地启动</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br><span class="line"><span class="comment"># 访问http://localhost:4000/</span></span><br></pre></td></tr></table></figure><h3 id="将此博客目录与远程github仓库建立关联"><a href="#将此博客目录与远程github仓库建立关联" class="headerlink" title="将此博客目录与远程github仓库建立关联"></a>将此博客目录与远程github仓库建立关联</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim _config.yml</span><br><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repository:</span> https:<span class="comment">//github.com/qiyueliuhuo/qiyueliuhuo.github.io.git</span></span><br><span class="line"><span class="symbol">  branch:</span> master</span><br></pre></td></tr></table></figure><h3 id="执行如下命令才能使用git部署"><a href="#执行如下命令才能使用git部署" class="headerlink" title="执行如下命令才能使用git部署"></a>执行如下命令才能使用git部署</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span><br></pre></td></tr></table></figure><h3 id="将-deploy目录部署到github上"><a href="#将-deploy目录部署到github上" class="headerlink" title="将.deploy目录部署到github上"></a>将.deploy目录部署到github上</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo deploy</span></span><br></pre></td></tr></table></figure><h3 id="部署步骤"><a href="#部署步骤" class="headerlink" title="部署步骤"></a>部署步骤</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo <span class="keyword">generate</span></span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">hexo new post <span class="string">"postName"</span>  # 新建文章</span><br><span class="line">hexo new draft <span class="string">"draftName"</span> # 新建草稿</span><br><span class="line">hexo new<span class="built_in"> page </span><span class="string">"pageName"</span>  # 新建页面</span><br><span class="line">hexo publish <span class="string">"title"</span> # 发布title文章  Moves a draft post <span class="keyword">from</span> _drafts <span class="keyword">to</span> _posts folder.</span><br><span class="line">hexo generate  # 生成静态页面至public目录中 </span><br><span class="line">hexo clean # 清除缓存</span><br><span class="line">hexo<span class="built_in"> server </span> # 开启本地预览端口</span><br><span class="line">hexo deploy  # 部署到github</span><br><span class="line">hexo version # 查看hexo版本</span><br></pre></td></tr></table></figure><h3 id="编辑文章"><a href="#编辑文章" class="headerlink" title="编辑文章"></a>编辑文章</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">文章头部加</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">//此处填写文章名</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">//此处填写发布日期</span></span><br><span class="line"><span class="attr">tags:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">//此处填写标签名(可多个)</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="文章在source-posts"><a href="#文章在source-posts" class="headerlink" title="文章在source/_posts"></a>文章在source/_posts</h3><h3 id="修改头像、友情链接等在-config-yml中"><a href="#修改头像、友情链接等在-config-yml中" class="headerlink" title="修改头像、友情链接等在_config.yml中"></a>修改头像、友情链接等在_config.yml中</h3><h3 id="修改名字在public-index里修改"><a href="#修改名字在public-index里修改" class="headerlink" title="修改名字在public/index里修改"></a>修改名字在public/index里修改</h3><h3 id="查看npm安装各Hexo插件情况"><a href="#查看npm安装各Hexo插件情况" class="headerlink" title="查看npm安装各Hexo插件情况"></a>查看npm安装各Hexo插件情况</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">ls</span> <span class="params">--depth</span> 0</span><br><span class="line"><span class="comment"># 缺少的插件需要安装上</span></span><br><span class="line">npm install hexo-renderer-ejs <span class="params">--save</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[JavaWeb]SSM框架整合 idea+spring+springMVC+Mybatis框架搭建教程</title>
      <link href="/2018/12/24/JavaWeb-SSM/"/>
      <url>/2018/12/24/JavaWeb-SSM/</url>
      
        <content type="html"><![CDATA[<h2 id="1、预备知识及工具。"><a href="#1、预备知识及工具。" class="headerlink" title="1、预备知识及工具。"></a>1、预备知识及工具。</h2><ul><li>掌握java语言基础知识。</li><li>了解基本的MySQL相关知识。</li><li>了解http协议。</li><li>了解Jdbc技术。</li><li>了解maven项目管理工具。<h2 id="2、-开发环境"><a href="#2、-开发环境" class="headerlink" title="2、 开发环境"></a>2、 开发环境</h2></li><li>操作系统：macOS 10.13.4 </li><li>IDE：IntelliJ IDEA</li><li>JDK版本：jdk1.7</li><li>Web服务器：tomcat 8.5.242</li><li>版本控制工具：git 2.15.1</li><li>项目管理工具：maven 3.5.2</li><li>数据库：mysql 14.14</li></ul><p><strong>开发环境配置可以按照上面的顺序在网上搜索相应的安装配置教程。</strong></p><h2 id="3、搭建过程"><a href="#3、搭建过程" class="headerlink" title="3、搭建过程"></a>3、搭建过程</h2><h3 id="3-1-框架搭建前，先在MySQL创建我们需要查询的数据库。"><a href="#3-1-框架搭建前，先在MySQL创建我们需要查询的数据库。" class="headerlink" title="3.1 框架搭建前，先在MySQL创建我们需要查询的数据库。"></a>3.1 框架搭建前，先在MySQL创建我们需要查询的数据库。</h3><ol><li>打开数据库，并连接到数据中。<br><img src="https://upload-images.jianshu.io/upload_images/13242528-17182d00a7cd088c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li><li>新建一个名为demo的数据库。<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE demo<span class="built_in"> DEFAULT </span>CHARACTER <span class="builtin-name">SET</span> utf8;</span><br></pre></td></tr></table></figure></li><li>在demo数据库下，新建名为t_user数据表。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t_user (</span><br><span class="line">  <span class="keyword">id</span>    <span class="built_in">BIGINT</span>       <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="keyword">name</span>  <span class="built_in">VARCHAR</span>(<span class="number">50</span>)  <span class="keyword">COMMENT</span> <span class="string">'姓名'</span>,</span><br><span class="line">  age   <span class="built_in">INTEGER</span>      <span class="keyword">COMMENT</span> <span class="string">'年龄'</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li>给t_user表中插入测试数据。<br><img src="https://upload-images.jianshu.io/upload_images/13242528-dcc7f2b3a84946be.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><h3 id="3-2-使用idea新建maven项目，并对项目运行环境进行配置。"><a href="#3-2-使用idea新建maven项目，并对项目运行环境进行配置。" class="headerlink" title="3.2 使用idea新建maven项目，并对项目运行环境进行配置。"></a>3.2 使用idea新建maven项目，并对项目运行环境进行配置。</h3><img src="https://upload-images.jianshu.io/upload_images/13242528-1cf0827463fe0260.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="01.png"></li></ol><p><img src="https://upload-images.jianshu.io/upload_images/13242528-ca09a78503cda8ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="02.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-d1815c48f83a23cd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="03.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-2a23cea9db541bab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="05.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-49b72e118d3570ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="06.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-9dac31c84d982cc0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="07.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-91dfd6808205070a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="08.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-dbb879acbc36774d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="09.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-ba1e0a6a4c07fe2b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="10.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-4dbede943076bbce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="11.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-aa2ff6dd877a050b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="12.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-3b5ee67e44a2ee17.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="13.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-aca80207420da3d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="14.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-c53d1ca43bb76fb2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="15.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-7f5278598385a147.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="16.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-489b98155f3eb255.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="17.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-3bb2bf3103b3abee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="18.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-d1738f61cefcc5eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="19.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-40bc448a8d4e355a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20.png"></p><h3 id="3-3-建立maven项目的目录结构，并在maven的pom-xml配置文件中添加项目所需要的依赖包。（注意：尽量和我的pom-xml保持一样，避免因为版本问题，出现错误）"><a href="#3-3-建立maven项目的目录结构，并在maven的pom-xml配置文件中添加项目所需要的依赖包。（注意：尽量和我的pom-xml保持一样，避免因为版本问题，出现错误）" class="headerlink" title="3.3 建立maven项目的目录结构，并在maven的pom.xml配置文件中添加项目所需要的依赖包。（注意：尽量和我的pom.xml保持一样，避免因为版本问题，出现错误）"></a>3.3 建立maven项目的目录结构，并在maven的pom.xml配置文件中添加项目所需要的依赖包。（注意：尽量和我的pom.xml保持一样，避免因为版本问题，出现错误）</h3><p><img src="https://upload-images.jianshu.io/upload_images/13242528-d9e8f84582e88291.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="21.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-d9b53c7772b0c7e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="22.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-3316ef6e2cc1e6de.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="23.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-4bae803e27fa1ac4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="24.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-54888901893f3251.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="25.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-a70d55976b27177b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="26.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-e0187c3c2005458f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="27.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-291c3a99041f33fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="28.png"></p><ul><li>完整pom.xml文件在下面文件给出，可复制。<br><img src="https://upload-images.jianshu.io/upload_images/13242528-7f287b538fc2308f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="29.png"></li></ul><p><img src="https://upload-images.jianshu.io/upload_images/13242528-28439347f208cb12.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="30.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-72c01c34d4a97d4f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="31.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-f94e646310070d3c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="32.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-c47519b7b89332f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="33.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-a5b82da5e3932301.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="34.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-c9acde2fcb67a17e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="35.png"></p><h3 id="3-4-编写demo项目类文件。"><a href="#3-4-编写demo项目类文件。" class="headerlink" title="3.4 编写demo项目类文件。"></a>3.4 编写demo项目类文件。</h3><h4 id="类文件分为三层："><a href="#类文件分为三层：" class="headerlink" title="类文件分为三层："></a>类文件分为三层：</h4><ul><li>dao即Data Access Object，数据访问对象。</li><li>controller，控制层，用来接收http请求。</li><li>service，业务逻辑层，用来处理与业务相关的逻辑。<br><img src="https://upload-images.jianshu.io/upload_images/13242528-2ee5f8da23b4ef37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="36.png"></li><li>完整项目结构如下图。<br><img src="https://upload-images.jianshu.io/upload_images/13242528-66a66da4039034ce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="41.png"><br><img src="https://upload-images.jianshu.io/upload_images/13242528-c10b5187eebddba7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="UserControll.java"></li></ul><p><img src="https://upload-images.jianshu.io/upload_images/13242528-9a100f5eaa83fe51.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="UserDao.java"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-3ea04a7e5342abcd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="UserEntity.java"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-3165f6f6d08b074c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="UserService.java"></p><p><img src="https://upload-images.jianshu.io/upload_images/13242528-1a3622942965c3f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="37.png"><br><img src="https://upload-images.jianshu.io/upload_images/13242528-c3556ddeb59d2b75.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="38.png"></p><ul><li><p>配置文件及类文件如下，文件中注释对配置进行了说明。</p></li><li><p>pom.xml</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span></span><br><span class="line"><span class="xml">  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>site.wzhe.spring<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>demo Maven Webapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="comment">&lt;!-- FIXME change it to the project's website --&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.example.com<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>4.3.16.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">mysql-connector-java.version</span>&gt;</span>5.1.17<span class="tag">&lt;/<span class="name">mysql-connector-java.version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">mybatis.version</span>&gt;</span>3.4.4<span class="tag">&lt;/<span class="name">mybatis.version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">mybatis-spring.version</span>&gt;</span>1.3.1<span class="tag">&lt;/<span class="name">mybatis-spring.version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">c3p0.version</span>&gt;</span>0.9.1.2<span class="tag">&lt;/<span class="name">c3p0.version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">jackson.version</span>&gt;</span>2.9.5<span class="tag">&lt;/<span class="name">jackson.version</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;mysql-connector-java.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;mybatis.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;mybatis-spring.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;c3p0.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$</span><span class="template-variable">&#123;jackson.version&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>.gitignore</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Maven #</span></span><br><span class="line">target/</span><br><span class="line"></span><br><span class="line"><span class="comment"># IDEA #</span></span><br><span class="line"><span class="string">.idea/</span></span><br><span class="line">*<span class="string">.iml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Eclipse #</span></span><br><span class="line"><span class="string">.settings/</span></span><br><span class="line"><span class="string">.metadata/</span></span><br><span class="line"><span class="string">.classpath</span></span><br><span class="line"><span class="string">.project</span></span><br><span class="line">Servers/</span><br></pre></td></tr></table></figure></li><li><p>web.xml文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"3.1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 加载Spring容器配置 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Spring容器加载所有bean的配置文件的路径 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath*:spring/applicationContext.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 配置SpringMVC核心控制器,将所有的请求(除了刚刚Spring MVC中的静态资源请求)都交给Spring MVC --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- DispatcherServlet上下文在初始化的时候会建立自己的IoC上下文，用以持有spring mvc相关的bean。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath*:spring/applicationContext-mvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--用来标记是否在项目启动时就加在此Servlet,0或正数表示容器在应用启动时就加载这个Servlet,</span></span><br><span class="line"><span class="comment">    当是一个负数时或者没有指定时，则指示容器在该servlet被选择时才加载.正数值越小启动优先值越高  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--为DispatcherServlet建立映射--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 拦截所有请求,千万注意是(/)而不是(/*) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 设置编码过滤器 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>jdbc.properties文件</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driverClassName</span>=com.mysql.jdbc.Driver</span><br><span class="line"><span class="attr">jdbc.url</span>=jdbc:mysql://localhost:<span class="number">3306</span>/demo?characterEncoding=UTF-<span class="number">8</span></span><br><span class="line"><span class="attr">jdbc.username</span>=root</span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="number">123456</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jdbc.initialPoolSize</span>=<span class="number">20</span></span><br><span class="line"><span class="attr">jdbc.maxPoolSize</span>=<span class="number">100</span></span><br><span class="line"><span class="attr">jdbc.minPoolSize</span>=<span class="number">10</span></span><br><span class="line"><span class="attr">jdbc.maxIdleTime</span>=<span class="number">600</span></span><br><span class="line"><span class="attr">jdbc.acquireIncrement</span>=<span class="number">5</span></span><br><span class="line"><span class="attr">jdbc.maxStatements</span>=<span class="number">50</span></span><br><span class="line"><span class="attr">jdbc.idleConnectionTestPeriod</span>=<span class="number">60</span></span><br></pre></td></tr></table></figure></li><li><p>UserDaoMapper.xml文件</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span></span><br><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"site.wzhe.spring.demo.dao.UserDao"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getById"</span> <span class="attr">parameterType</span>=<span class="string">"java.lang.Long"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        SELECT id, username, age</span></span><br><span class="line"><span class="xml">        FROM t_user</span></span><br><span class="line"><span class="xml">        WHERE id = #</span><span class="template-variable">&#123;id, jdbcType=BIGINT&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>mybatis-config.xml文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD SQL Map Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--实体类匹配成XXXMapper.xml中可以直接使用的类型，相当于一个别名，在XXXMapper.xml中就无需再写完整的实体类全路径，直接用alias的值来代替--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">"site.wzhe.spring.demo.entity.UserEntity"</span> <span class="attr">alias</span>=<span class="string">"User"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>applicationContext.xml文件</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span></span><br><span class="line"><span class="xml">       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tx="http://www.springframework.org/schema/tx"</span></span><br><span class="line"><span class="xml">       xmlns:context="http://www.springframework.org/schema/context"</span></span><br><span class="line"><span class="xml">       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- ===============spring容器(父容器)的配置文件 ================== --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"site.wzhe.spring.demo.service"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- 加载jdbc.properties配置文件 --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"classpath:jdbc/jdbc.properties"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!--数据源-链接数据库的基本信息--&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;jdbc.driverClassName&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;jdbc.url&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;jdbc.username&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;jdbc.password&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!--mybatis的配置文件--&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis/mybatis-config.xml"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!--扫描 XXXDaoMapper.xml映射文件,配置扫描的路径--&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:mappers/*.xml"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- DAO接口所在包名，Spring会自动查找之中的类 --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"site.wzhe.spring.demo.dao"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactoryBeanName"</span> <span class="attr">value</span>=<span class="string">"sqlSessionFactory"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!--事务管理--&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span></span></span></span><br><span class="line"><span class="xml">          class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt;</span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!--注入dataSource--&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!--开启事务注解扫描--&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span><span class="tag">&lt;/<span class="name">tx:annotation-driven</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>applicationContext-mvc.xml文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span> <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">"http://www.springframework.org/schema/util"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ===============spring web容器(子容器)的配置文件 ================== --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler，</span></span><br><span class="line"><span class="comment">    它会像一个检查员，对进入DispatcherServlet的URL进行筛查，如果发现是静态资源的请求，</span></span><br><span class="line"><span class="comment">    就将该请求转由Web应用服务器默认的Servlet处理，如果不是静态资源的请求，才由DispatcherServlet继续处理。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 告知Spring，会自动注册DefaultAnnotationHandlerMapping与AnnotationMethodHandlerAdapter 两个bean,是spring MVC为@Controllers分发请求所必须的。--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--SpringMVC相关如下配置，经过验证，这个是SpringMVC必须要配置的，因为它声明了@RequestMapping、@RequestBody、@ResponseBody等。并且，该配置默认加载很多的参数绑定方法，比如json转换解析器等。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- json请求无法通过@RequestBody转为对象，添加这个就可以解决--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.StringHttpMessageConverter"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.ResourceHttpMessageConverter"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 指定要扫描的包的位置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"site.wzhe.spring.demo.controller"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 对静态资源文件的访问,因为Spring MVC会拦截所有请求,导致jsp页面中对js和CSS的引用也被拦截,配置后可以把对资源的请求交给项目的默认servlet而不是Spring MVC--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">"/static/**"</span> <span class="attr">location</span>=<span class="string">"/WEB-INF/static/"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 为RequestMappingHandlerAdapter装配可处理JSON格式的请求/响应消息的HttpMessage Converter--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter"</span> <span class="attr">p:messageConverters-ref</span>=<span class="string">"messageConverters"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">"messageConverters"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.BufferedImageHttpMessageConverter"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.ByteArrayHttpMessageConverter"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.StringHttpMessageConverter"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置Spring MVC的视图解析器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 有时我们需要访问JSP页面,可理解为在控制器controller的返回值加前缀和后缀,变成一个可用的URL地址 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>UserController.java 文件</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package site.wzhe.spring.demo.controller;</span><br><span class="line"></span><br><span class="line">import org.springframework.beans.factory.<span class="keyword">annotation</span>.<span class="title">Autowired</span>;</span><br><span class="line">import org.springframework.stereotype.Controller;</span><br><span class="line">import org.springframework.web.bind.<span class="keyword">annotation</span>.<span class="title">PathVariable</span>;</span><br><span class="line">import org.springframework.web.bind.<span class="keyword">annotation</span>.<span class="title">RequestMapping</span>;</span><br><span class="line">import org.springframework.web.bind.<span class="keyword">annotation</span>.<span class="title">RequestMethod</span>;</span><br><span class="line">import org.springframework.web.bind.<span class="keyword">annotation</span>.<span class="title">ResponseBody</span>;</span><br><span class="line">import site.wzhe.spring.demo.entity.UserEntity;</span><br><span class="line">import site.wzhe.spring.demo.service.UserService;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @<span class="symbol">author:</span> andup.</span><br><span class="line"> * @<span class="symbol">description:</span></span><br><span class="line"> * @<span class="symbol">date:</span> <span class="number">2018</span>/<span class="number">7</span>/<span class="number">21</span>.</span><br><span class="line"> *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">@Controller</span></span><br><span class="line"><span class="regexp">public class UserController &#123;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    @Autowired</span></span><br><span class="line"><span class="regexp">    private UserService userService;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    @RequestMapping(value = "/api</span><span class="regexp">/user/</span>&#123;id&#125;<span class="string">", method = RequestMethod.GET)</span></span><br><span class="line"><span class="string">    @ResponseBody</span></span><br><span class="line"><span class="string">    UserEntity getById(@PathVariable Long id) &#123;</span></span><br><span class="line"><span class="string">        return userService.getById(id);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>UserDao.java文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> site.wzhe.spring.demo.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> site.wzhe.spring.demo.entity.UserEntity;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: andup.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2018/7/21.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="function">UserEntity <span class="title">getById</span><span class="params">(Long id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>UserEntity.java文件</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">package site.wzhe.spring.demo.entity;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author: andup.</span></span><br><span class="line"><span class="comment"> * @description:</span></span><br><span class="line"><span class="comment"> * @date: 2018/7/21.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserEntity</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> userName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">String</span> <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(<span class="keyword">String</span> userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>UserService.java文件</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> site.wzhe.spring.demo.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.<span class="keyword">annotation</span>.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> site.wzhe.spring.demo.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> site.wzhe.spring.demo.entity.UserEntity;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: andup.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2018/7/21.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> UserEntity getById(<span class="built_in">Long</span> id) &#123;</span><br><span class="line">        <span class="keyword">return</span> userDao.getById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>后面四个类文件对应项目中类位置如下。<br><img src="https://upload-images.jianshu.io/upload_images/13242528-699d9d00dbfc2f59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="39.png"></p><h3 id="3-5-通过游览器输入地址，测试项目是否运行成功。"><a href="#3-5-通过游览器输入地址，测试项目是否运行成功。" class="headerlink" title="3.5 通过游览器输入地址，测试项目是否运行成功。"></a>3.5 通过游览器输入地址，测试项目是否运行成功。</h3></li><li><p>在游览器地址栏输入：localhost:8080/api/user/1<br><img src="https://upload-images.jianshu.io/upload_images/13242528-44dba67df9bc96ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="40.png"></p></li><li><p>后端返回数据。目前大多数项目都是前后端分离项目，后端返回数据，前端进行渲染，展示给用户。所以，游览器从后端返回Json格式的数据即可。</p><p><strong>如果对你有帮助，可以关注我，后续有更多详细教程。</strong></p></li></ul><h5 id="原创文章-请勿用于商业用途-转载请著名出处。"><a href="#原创文章-请勿用于商业用途-转载请著名出处。" class="headerlink" title="原创文章,请勿用于商业用途,转载请著名出处。"></a>原创文章,请勿用于商业用途,转载请著名出处。</h5><p>up</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> javaWeb </tag>
            
            <tag> 后端 </tag>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Double Checked locking 模式存在的问题</title>
      <link href="/2018/12/09/Double-Checked-locking-%E6%A8%A1%E5%BC%8F%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2018/12/09/Double-Checked-locking-%E6%A8%A1%E5%BC%8F%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="Double-Checked-locking-模式存在的问题"><a href="#Double-Checked-locking-模式存在的问题" class="headerlink" title="Double Checked locking 模式存在的问题"></a>Double Checked locking 模式存在的问题</h2><p>private static SettingsDbHelper sInst = null;<br>public static SettingsDbHelper getInstance(Context context) {<br>    if (sInst == null) {                              // 1<br>        synchronized (SettingsDbHelper.class) {       // 2<br>            SettingsDbHelper inst = sInst;            // 3<br>            if (inst == null) {                       // 4<br>                inst = new SettingsDbHelper(context); // 5<br>                sInst = inst;                         // 6<br>            }<br>        }<br>    }<br>    return sInst;                                     // 7<br>}</p><p>Double Checked locking 模式，保证多线程安全，Coverity 是静态代码分析工具，它会模拟其实际运行情况。<br>原因：new SettingsDbHelper(context)并不是一个原子操作，编译后可能会因为与下面的语句发生指令重排，<br>既是没有下面sInst = inst，也会因为先给sInst初始化，而构造函数并没有执行完，这样在另一个线程中，调用<br>该函数时，确实返回了初始化的sInst(不为null)，但因为构造函数没有执行完，仍然会出现线程问题。</p><h3 id="解决方法一"><a href="#解决方法一" class="headerlink" title="解决方法一:"></a>解决方法一:</h3><p>在 Java 5 之后，引入扩展关键字 volatile 的功能，它能保证：对 volatile 变量的写操作，不允许和它之前的读写操作打乱顺序；对 volatile 变量的读操作，不允许和它之后的读写乱序。所以，上面的操作，只需要对 sInst 变量添加 volatile 关键字修饰即可。<br>即<br>private static volatile SettingsDbHelper sInst = null;<br>public static SettingsDbHelper getInstance(Context context) {<br>    if (sInst == null) {                              // 1<br>        synchronized (SettingsDbHelper.class) {       // 2<br>            SettingsDbHelper inst = sInst;            // 3<br>            if (inst == null) {                       // 4<br>                inst = new SettingsDbHelper(context); // 5<br>                sInst = inst;                         // 6<br>            }<br>        }<br>    }<br>    return sInst;                                     // 7<br>}</p><h3 id="解决方法二"><a href="#解决方法二" class="headerlink" title="解决方法二:"></a>解决方法二:</h3><p>对 volatile 变量的读写操作是一个比较重的操作，所以上面的代码还可以优化一下，如下:<br>private static volatile SettingsDbHelper sInst = null;  // &lt;&lt;&lt; 这里添加了 volatile<br>public static SettingsDbHelper getInstance(Context context) {<br>    SettingsDbHelper inst = sInst;  // &lt;&lt;&lt; 在这里创建临时变量<br>    if (inst == null) {<br>        synchronized (SettingsDbHelper.class) {<br>            inst = sInst;<br>            if (inst == null) {<br>                inst = new SettingsDbHelper(context);<br>                sInst = inst;<br>            }<br>        }<br>    }<br>    return inst;  // &lt;&lt;&lt; 注意这里返回的是临时变量<br>}</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mac系统快捷键</title>
      <link href="/2018/10/04/mac%E7%B3%BB%E7%BB%9F%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/2018/10/04/mac%E7%B3%BB%E7%BB%9F%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="mac系统"><a href="#mac系统" class="headerlink" title="mac系统"></a>mac系统</h1><h2 id="mac系统-常用快捷键"><a href="#mac系统-常用快捷键" class="headerlink" title="mac系统 常用快捷键"></a>mac系统 常用快捷键</h2><h4 id="按键"><a href="#按键" class="headerlink" title="按键"></a>按键</h4><ul><li>⌘ == Command</li><li>⇧ == Shift</li><li>⇪ == Caps Lock</li><li>⌥ == Option/Alt</li><li>⌃ == Control</li><li>⌫ == Delete(win上back space)</li><li>⏏ == 电源开关键</li></ul><p>辅助软件：CheatSheet 长按Command键提示当前应用的快捷键</p><h4 id="系统"><a href="#系统" class="headerlink" title="系统"></a>系统</h4><ul><li>Command + 空格键 : 切换输入法<h4 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h4></li><li>Command + X : <strong>剪切</strong>所选项并拷贝到剪切板。</li><li>Command + C : <strong>拷贝</strong>到剪切板，适用于访达中的文件。</li><li>Command + V : 将剪切板中的内容<strong>粘贴</strong>到文稿或访达中。</li><li>Command + Z : <strong>撤销</strong>前一个命令。</li><li>Command + Shift + Z : <strong>反撤销</strong>前一个撤销。</li><li>Command + A : <strong>全选</strong>各项。</li><li>Command + F : <strong>查找</strong>文稿中内容或者打开“查找”窗口。</li><li>Command + O : <strong>打开</strong>所选项，或打开一个对话框以选择要打开的文件。</li><li>Command + N : <strong>新建</strong>文稿或窗口。</li><li>Command + I : 显示选中文件的<strong>简介</strong>。</li><li>Command + S : <strong>存储</strong>当前文稿。</li><li>Command + Shift + S : <strong>另存为</strong>。</li><li>Command + W : <strong>关闭</strong>。</li><li>Command + Q : <strong>退出</strong>应用。</li><li>Command + Control + F : <strong>应用全屏</strong>。</li><li>Command + Tab : <strong>切换应用</strong>，在打开的应用中切换到下一个最近使用的应用。</li><li>Command + Shift + Tab : 在<strong>应用程序</strong>间反向切换。</li><li>Command + 逗号（，）: 打开最前面的应用的<strong>偏好设置</strong>。</li><li>Control + 左键/右键 ： <strong>切换桌</strong>面。</li><li>Command + + : <strong>放大</strong>。</li><li>Command + - : <strong>缩小</strong>。<h4 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h4></li><li>Command + 左键 : 移动到行首。</li><li>Command + 右键 : 移动到行尾。</li><li>Option + 左键 : 向左移动一个单词。</li><li>Option + 右键 : 向右移动一个单词。<h4 id="截屏-基于qq应用（qq退出后，截图录屏保持运行）"><a href="#截屏-基于qq应用（qq退出后，截图录屏保持运行）" class="headerlink" title="截屏 基于qq应用（qq退出后，截图录屏保持运行）"></a>截屏 基于qq应用（qq退出后，截图录屏保持运行）</h4></li><li>Command + Control + A : 截屏。</li><li>Command + Control + R : 录屏。</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker学习</title>
      <link href="/2018/10/04/docker%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/10/04/docker%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="参考地址："><a href="#参考地址：" class="headerlink" title="参考地址："></a>参考地址：</h2><ul><li><a href="http://www.docker.org.cn/book/docker/docker-getting-started-14.html" target="_blank" rel="noopener">http://www.docker.org.cn/book/docker/docker-getting-started-14.html</a>  </li><li><a href="http://guide.daocloud.io/dcs/3-9152643.html" target="_blank" rel="noopener">http://guide.daocloud.io/dcs/3-9152643.html</a>  </li><li><a href="https://cloud.docker.com/repository/list" target="_blank" rel="noopener">https://cloud.docker.com/repository/list</a> <h2 id="指令："><a href="#指令：" class="headerlink" title="指令："></a>指令：</h2></li><li>docker pull tomcat  # 拉取tomcat镜像</li><li>sudo service docker start  # 启动docker daemon</li><li>docker search tutorial  #搜索镜像</li><li>docker run learn/tutorial echo “hello word”  # 在容器中运行echo命令</li><li>docker run learn/tutorial apt-get install -y ping  #在镜像容器learn/tutorial中安装ping命令</li><li>docker ps -l # 获得安装完ping命令之后容器的id。</li><li>docker commit 8c6 learn/ping  #保存对容器的修改，会返回新版本镜像的id号</li><li>docker search tomcat </li><li>docker images 查看本地镜像</li><li>docker run -i -t -d -v ~/download:/home/hello python3-env /bin/bash</li><li>docker rm Name/ID # 删除单个容器</li><li>docker rmi Name/ID # 删除镜像</li><li>docker attach 8704a9700502  # 进入一个正在运行的docker容器</li><li>docker run -d  # 后台模式运行</li><li>Control + Q + P  # 在docker中退出后容器在后台运行</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>数据库之索引</title>
      <link href="/2018/07/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B9%8B%E7%B4%A2%E5%BC%95/"/>
      <url>/2018/07/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B9%8B%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<h1 id="数据库之索引"><a href="#数据库之索引" class="headerlink" title="数据库之索引"></a>数据库之索引</h1><h2 id="概念、要点"><a href="#概念、要点" class="headerlink" title="概念、要点"></a>概念、要点</h2><h3 id="概念："><a href="#概念：" class="headerlink" title="概念："></a>概念：</h3><ul><li>索引（在MySQL中也叫键）是存储引擎用于快速找到记录的一种数据结构。<h3 id="索引的类型"><a href="#索引的类型" class="headerlink" title="索引的类型"></a>索引的类型</h3><h5 id="不同的存储引擎的索引的工作方式并不一样，也不是所有的存储引擎都支持所有类型的索引，即使类型一样，底层实现也可能不同。"><a href="#不同的存储引擎的索引的工作方式并不一样，也不是所有的存储引擎都支持所有类型的索引，即使类型一样，底层实现也可能不同。" class="headerlink" title="不同的存储引擎的索引的工作方式并不一样，也不是所有的存储引擎都支持所有类型的索引，即使类型一样，底层实现也可能不同。"></a>不同的存储引擎的索引的工作方式并不一样，也不是所有的存储引擎都支持所有类型的索引，即使类型一样，底层实现也可能不同。</h5></li><li>B-Tree索引</li><li>哈希索引</li><li>空间数据索引（R-Tree)</li><li>全文索引</li><li>其他类型索引<h3 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h3></li><li>表中数据量非常大时，索引对性能的影响非常重要。</li><li>索引应该是对查询性能优化最有效的手段了。</li><li>索引可以包含一个或多个列的值。如果索引包含多个列，那么列的顺序十分重要，因为MySQL<strong>只能</strong>高效地使用索引的<strong>最左前缀列</strong>。</li></ul><h3 id="索引的原理"><a href="#索引的原理" class="headerlink" title="索引的原理"></a>索引的原理</h3><h4 id="1-B-Tree索引"><a href="#1-B-Tree索引" class="headerlink" title="1. B-Tree索引"></a>1. B-Tree索引</h4><p>若没说索引类型，一般指的是B-Tree索引，使用B-Tree数据结构来存储数据，意味着所有的值都是按顺序存储的（很适合查找范围数据），并且每一个叶子页到根的距离相同。<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 若有如下数据表</span></span><br><span class="line">CREATE TABLE People &#123;</span><br><span class="line">    last_name  varchar(<span class="number">50</span>)     <span class="literal">not</span> <span class="literal">null</span>,</span><br><span class="line">    first_name varchar(<span class="number">50</span>)     <span class="literal">not</span> <span class="literal">null</span>,</span><br><span class="line">    dob        date            <span class="literal">not</span> <span class="literal">null</span>,</span><br><span class="line">    gender     <span class="keyword">enum</span>(<span class="string">'m'</span>, <span class="string">'f'</span>)  <span class="literal">not</span> <span class="literal">null</span>,</span><br><span class="line">    key(last_name, first_name, dob)</span><br><span class="line">&#125;<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><ul><li>索引对多个值进行排序的依据是create table语句中定义索引时列的顺序。</li><li>MySQL适用的查找类型为 <strong>全值匹配</strong>、<strong>匹配最左前缀</strong>、<strong>匹配列前缀</strong>、<strong>匹配范围值</strong>、<strong>精确匹配某一列并范围匹配另外一列</strong>、<strong>只访问索引的查询</strong>。<h4 id="2-哈希索引"><a href="#2-哈希索引" class="headerlink" title="2. 哈希索引"></a>2. 哈希索引</h4>哈希索引（hash index）基于哈希表实现，只有<strong>精确匹配</strong>索引所有列的查询才有效。哈希索引将所有的哈希码存储在索引中，同时在哈希表中保存指向每个数据行的指针。</li><li>只有Memory引擎<strong>显式</strong>支持哈希索引。<h4 id="3-空间数据索引"><a href="#3-空间数据索引" class="headerlink" title="3. 空间数据索引"></a>3. 空间数据索引</h4>空间索引会从所有维度来索引数据。MySQL的GIS支持并不完善，所以大部分人都不会使用这个特性。<h4 id="4-全文索引"><a href="#4-全文索引" class="headerlink" title="4. 全文索引"></a>4. 全文索引</h4><h3 id="索引的应用"><a href="#索引的应用" class="headerlink" title="索引的应用"></a>索引的应用</h3><h4 id="1-B-Tree索引-1"><a href="#1-B-Tree索引-1" class="headerlink" title="1. B-Tree索引"></a>1. B-Tree索引</h4></li><li>创建数据库并建立如下数据表<br><img src="https://note.youdao.com/yws/api/personal/file/WEB922cbab210055a33e4d0a75dc5e91b42?method=download&amp;shareKey=8a5c080d8328af950e3675bbe70a9661" alt="image"></li><li>给表中插入数据<br><img src="https://note.youdao.com/yws/api/personal/file/WEB703e816606fc6e8c94234b98c08ae3fb?method=download&amp;shareKey=20761849af4525d32683b5c91da77443" alt="image"><h5 id="使用索引的几种情况"><a href="#使用索引的几种情况" class="headerlink" title="使用索引的几种情况"></a>使用索引的几种情况</h5><h5 id="1-全值匹配"><a href="#1-全值匹配" class="headerlink" title="1. 全值匹配"></a>1. 全值匹配</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> high_performance_mysql.People <span class="keyword">WHERE</span> last_name = <span class="string">"Allen"</span> <span class="keyword">AND</span> first_name = <span class="string">"Cuba"</span> <span class="keyword">AND</span> dob = <span class="string">"1960-01-01"</span>;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://note.youdao.com/yws/api/personal/file/WEBe698c99c31388695771f6287f45ece4f?method=download&amp;shareKey=6f4ce5e1ebb158187c223f41bcc2c115" alt="image"></p><h5 id="2-匹配最左前缀"><a href="#2-匹配最左前缀" class="headerlink" title="2. 匹配最左前缀"></a>2. 匹配最左前缀</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> high_performance_mysql.People <span class="keyword">WHERE</span> last_name = <span class="string">"Allen"</span>;</span><br></pre></td></tr></table></figure><p><img src="https://note.youdao.com/yws/api/personal/file/WEB89813d2d5dfcefb62ed6646f8134e933?method=download&amp;shareKey=508947b940032039f148bf9fc22175ef" alt="image"></p><h5 id="3-匹配列前缀"><a href="#3-匹配列前缀" class="headerlink" title="3. 匹配列前缀"></a>3. 匹配列前缀</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> high_performance_mysql.People <span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'J%'</span>;</span><br></pre></td></tr></table></figure><p>有问题 TODO</p><h5 id="4-匹配范围值"><a href="#4-匹配范围值" class="headerlink" title="4. 匹配范围值"></a>4. 匹配范围值</h5><h5 id="5-精确匹配某一列并范围匹配另外一列"><a href="#5-精确匹配某一列并范围匹配另外一列" class="headerlink" title="5. 精确匹配某一列并范围匹配另外一列"></a>5. 精确匹配某一列并范围匹配另外一列</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> high_performance_mysql.People <span class="keyword">WHERE</span> last_name = <span class="string">"Allen"</span> <span class="keyword">AND</span> first_name <span class="keyword">LIKE</span> <span class="string">"K%"</span>;</span><br></pre></td></tr></table></figure><p><img src="https://note.youdao.com/yws/api/personal/file/WEB65154b6e2bd0f3c5f79e0138b3007863?method=download&amp;shareKey=76b5576a55d1b26d2e2a9b476fcf6303" alt="image"></p><h5 id="B-Tree索引的限制"><a href="#B-Tree索引的限制" class="headerlink" title="B-Tree索引的限制"></a>B-Tree索引的限制</h5><h6 id="根据索引的底层原理使用，就很容易想通为什么有这些限制了。"><a href="#根据索引的底层原理使用，就很容易想通为什么有这些限制了。" class="headerlink" title="根据索引的底层原理使用，就很容易想通为什么有这些限制了。"></a>根据索引的底层原理使用，就很容易想通为什么有这些限制了。</h6><ul><li>如果不是按照索引的最左前列开始查找，则无法使用索引。</li><li>不能跳过索引中的列。如果跳过，则只是用索引的第一列。</li><li>如果查询中有某个列的范围查询，则其右边所有列都无法使用索引优化查找。</li></ul><h3 id="问题记录"><a href="#问题记录" class="headerlink" title="问题记录"></a>问题记录</h3><ol><li>like ‘A%’  和 like ‘J%’<br>EXPLAIN SELECT * FROM high_performance_mysql.People WHERE last_name LIKE ‘A%’ 当数据库中A%数据占数据表很大部分时，走索引和不走索引效率区别不大，索引没有走索引。<br>一种情况使用到索引，一种情况没有使用到索引，猜测是否用索引可能和结果集大小也有关，mysql内部做优化。<br>在表数据量足够大情况下，才走索引。</li><li>底层实现原理弄懂，才能真正明白一些应用和限制的原因。</li><li>SQL 查询性能分析  <a href="https://blog.csdn.net/moqiang02/article/details/42433525" target="_blank" rel="noopener">https://blog.csdn.net/moqiang02/article/details/42433525</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LNMP分布式集群搭建</title>
      <link href="/2018/06/16/LNMP%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/"/>
      <url>/2018/06/16/LNMP%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="LNMP分布式集群搭建"><a href="#LNMP分布式集群搭建" class="headerlink" title="LNMP分布式集群搭建"></a>LNMP分布式集群搭建</h1><p><img src="https://note.youdao.com/yws/api/personal/file/WEB1c22ac7bb353014a01f3f91485cfaaa0?method=download&amp;shareKey=0f4ff9f8bdb82aaf871dc682b3fe8110" alt="image"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一共需要9台服务器，程序部分由一台负载均衡和两台Nginx+PHP服务器组成，数据库部分由两台MySql服务器组成，文件存储部分由两台Nginx（其中一台是Nginx+PHP）和一台NFS服务器组成。还有一台Memcached服务器作为数据缓存，用于处理读写频繁的热门数据。</p><table><thead><tr><th>编号</th><th>服务器</th><th>硬件侧重点 </th></tr></thead><tbody><tr><td>1</td><td>Nginx（<a href="http://www.itshop.test）" target="_blank" rel="noopener">www.itshop.test）</a></td><td>网卡性能</td></tr><tr><td>2</td><td>Nginx（file.itshop.test)</td><td>内存容量、磁盘性能</td></tr><tr><td>3</td><td>Nginx + PHP（upload.itshop.test）</td><td>网卡性能</td></tr><tr><td>4</td><td>Nginx + PHP</td><td>CPU性能</td></tr><tr><td>5</td><td>Nginx + PHP</td><td>CPU性能</td></tr><tr><td>6</td><td>NFS</td><td>磁盘容量</td></tr><tr><td>7</td><td>MySQL（主）</td><td>CPU、内存、磁盘整体性能</td></tr><tr><td>8</td><td>MySQL（从）</td><td>CPU、内存、磁盘整体性能</td></tr><tr><td>9</td><td>Memcached</td><td>内存容量</td></tr></tbody></table><ol><li>部署Linux服务器</li></ol><ul><li>选择CentOS 7 系统最小化部署在vmware fusion虚拟机上。（root 19960621）（andy 19960621）</li><li>使用命令：ip addr查看网络信息。</li><li><p>使用命令：vi /etc/sysconfig/network-scripts/ifcfg-ens33修改网卡配置，修改或增加以下几项。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ONBOOT</span>=<span class="string">"yes"</span>                 <span class="attribute">BOOTPROTO</span>=<span class="string">"static"</span>              <span class="attribute">IPADDR</span>=<span class="string">"172.16.212.11"</span></span><br><span class="line"><span class="attribute">NETMASK</span>=<span class="string">"255.255.255.0"</span>      <span class="attribute">GATEWAY</span>=<span class="string">"172.16.212.1"</span>          <span class="attribute">DNS1</span>=<span class="string">"172.16.212.1"</span></span><br></pre></td></tr></table></figure></li><li><p>确保在CentOS中可以ping通主机中的虚拟接口vmnet8地址。</p></li><li><p>编写脚本来改变各个克隆系统的地址。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">文件名：netconfig.sh</span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">ens33=/etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$1</span>"</span> = <span class="string">""</span> ]; <span class="keyword">then</span> <span class="built_in">exit</span> 3; <span class="keyword">fi</span></span><br><span class="line">sed -i <span class="string">'s/IPADDR=.*/IPADDR=172.16.212.1'</span><span class="variable">$1</span><span class="string">'/'</span> <span class="variable">$ens33</span></span><br><span class="line">sed -i <span class="string">'s/UUID=.*/UUID='</span>`uuidgen`<span class="string">'/g'</span> <span class="variable">$ens33</span></span><br></pre></td></tr></table></figure></li><li><p>根据下图先从1号系统克隆出6、7和9号系统CentOS系统。<br><img src="https://note.youdao.com/yws/api/personal/file/WEBd98e0ba8a718e76ce6e2f00d5d8eef70?method=download&amp;shareKey=60524d2f00b213d64115f8b882c1877d" alt="image"></p></li><li>克隆后，运行脚本./netconfig.sh 6 改变系统ip地址。</li><li>启动sshd服务，方便主机通过ssh连接系统，命令：service sshd start。</li></ul><ol start="2"><li>安装Nginx</li></ol><ul><li>更新下yum源。</li><li><p>安装依赖包</p><figure class="highlight plain"><figcaption><span>-y install gcc pcre-devel openssl-devel ```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 下载安装包。</span><br><span class="line">``` wget http://nginx.org/download/nginx-1.14.0.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>解压文件。</p><figure class="highlight plain"><figcaption><span>zxvf nginx-1.14.0```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 编译安装，并增加http\_realip_module模块。</span><br><span class="line">``` ./configure --with-http_ssl_module --with-http_realip_module &amp;&amp; make &amp;&amp; make install</span><br></pre></td></tr></table></figure></li><li><p>创建软链接到/usr/local/sbin目录中，该目录在PATH变量中，所以直接创建软链接之后，就可以直接使用nginx命令。</p><figure class="highlight ls"><figcaption><span>-s</span><a href="/usr/local/nginx/sbin/nginx">/usr/local/sbin/nginx ```</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 在CentOS中，service命令实际上是调用了<span class="regexp">/etc/init.d目录下的shell脚本。所以编写nginx的shell脚本，将脚本放在/etc/init.d/</span>目录下。</span><br></pre></td></tr></table></figure><p>  #! /bin/bash<br>  DAEMON=/usr/local/nginx/sbin/nginx<br>  case “$1” in</p><pre><code>start)    echo &quot;Starting nginx daemon...&quot;    $DAEMON &amp;&amp; echo &quot;SUCCESS&quot;;;stop)    echo &quot;Stopping nginx daemon...&quot;    $DAEMON -s quit &amp;&amp; echo &quot;SUCCESS&quot;;;reload)    echo &quot;Reloading nginx daemon...&quot;    $DAEMON -s reload &amp;&amp; echo &quot;SUCCESS&quot;;;restart)    echo &quot;Restarting nginx daemon...&quot;    $DAEMON -s quit    $DAEMON &amp;&amp; echo &quot;SUCCESS&quot;;;*)    echo &quot;Usage: service nginx (start|stop|restart|reload)&quot;    exit 2;;</code></pre><p>  esac</p></li></ul><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 设置开机启动：chkconfig --<span class="keyword">add</span><span class="bash"> nginx</span></span><br></pre></td></tr></table></figure><pre><code>报错：error reading information on service nginx: Invalid argument目前不知道如何解决。</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>配置并启动Nginx。</span><br></pre></td></tr></table></figure><pre><code># useradd -s /sbin/nologin -M www# mkdir -p /data/www# cp ../html/* /data/www# chown -R www:www /data/www# vi ../conf/nginx.conf改动部分如下：# configure useruser  www www;worker_processes  1;# modify server block:    server {        listen       80;        server_name  localhost;    root /data/www;    index index.html index.htm;        #charset koi8-r;        #access_log  logs/host.access.log  main;        #location / {        #    root   html;        #    index  index.html index.htm;        #}        #error_page  404              /404.html;        # redirect server error pages to the static page /50x.html        #        #error_page   500 502 503 504  /50x.html;        #location = /50x.html {        #    root   html;        #}# firewall-cmd --zone=public --add-port=80/tcp --permanent # 开放80端口。</code></pre><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>查看nginx是否启动：ps -aux |grep nginx</span><br><span class="line"><span class="bullet">- </span>查看nginx监听端口：netstat -an | grep 80</span><br><span class="line"><span class="bullet">- </span>CentOS中，无netstat和ifconfig命令，需安装：yum install net-tools。</span><br><span class="line"><span class="bullet">- </span>在游览器中访问地址，成功打开nginx欢迎页面。</span><br><span class="line">![<span class="string">image</span>](<span class="link">https://note.youdao.com/yws/api/personal/file/WEB5c5cb87d060b173a95b4d4ff6b28ad66?method=download&amp;shareKey=77b7e46502ecf5851deafeec193416b0</span>)</span><br><span class="line"><span class="bullet">- </span>克隆虚拟机，基于1号服务器克隆出两台虚拟机，作为2、3号服务器使用。使用前面的netconfig.sh脚本进行网络配置。</span><br><span class="line"><span class="bullet">- </span>配置物理机的hosts文件，完成配置后，在游览器中分别访问这几个域名。</span><br></pre></td></tr></table></figure><pre><code>172.16.212.11 itshop.test172.16.212.11 www.itshop.test172.16.212.12 file.itshop.test172.16.212.13 upload.itshop.test</code></pre><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">3. </span>Nginx + PHP服务器搭建</span><br><span class="line"><span class="bullet">- </span>在3号服务器上安装PHP。安装完后php -v显示php版本信息。</span><br><span class="line"><span class="bullet">- </span>部署Nginx + PHP环境</span><br></pre></td></tr></table></figure><pre><code>cp php.ini-production /usr/local/php/lib/php.ini  # 复制php.ini配置你文件vi /usr/local/php/lib/php.ini  # 配置时区为PRC?# 创建服务脚本、设置开机启动cp sapi/fpm/init.d.php-fpm /etc/init.d/php-fpmchmod +x /etc/init.d/php-fpmchkconfig --add php-fpm# 复制php-fpm配置文件、启动服务cd /usr/local/php/etccp php-fpm.conf.default php-fpm.confcd php-fpm.dcp www.conf.default www.confvi www.conf更改如下:[www]user=wwwgroup=wwwlisten=/tmp/php-cgi.socklisten.owner=wwwlisten.group=www#启动php-fpmservice php-fpm start# 在Nginx配置文件中加入PHP支持，server模块。location ~ \.php$ {        try_files $uri =404;        fastcgi_pass   unix:/tmp/php-cgi.sock;        include        fastcgi.conf    }# 测试，在/data/www下创建index.php内容如下：&lt;?phpphpinfo();?&gt;# 在游览器中地址输入ip:/index.php</code></pre><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">image</span>](<span class="link">https://note.youdao.com/yws/api/personal/file/WEBcacc65278849272bd250c13788d520c3?method=download&amp;shareKey=a262787ec230fc14cb2257fc34e18f88</span>)</span><br><span class="line"><span class="bullet">- </span>克隆虚拟机，基于3号服务器克隆出4号和5号虚拟机，并用脚本配置网络。</span><br><span class="line"><span class="bullet">- </span>配合防火墙，4、5号服务器不需要被外部访问，只允许1号负载均衡服务器的IP地址进行访问。</span><br></pre></td></tr></table></figure><pre><code>// TODO  未完成</code></pre><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>配置反向代理和负载均衡</span><br><span class="line">![<span class="string">image</span>](<span class="link">https://note.youdao.com/yws/api/personal/file/WEBc1fa6f184b9413cee095af0ba3c73911?method=download&amp;shareKey=6a33442152b2f0d02333cba283fc9612</span>)</span><br><span class="line"><span class="bullet">- </span>还需在后端服务器nginx中配置如下</span><br></pre></td></tr></table></figure><pre><code>real_ip_header X-Real-IP;set_real_ip_from </code></pre><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 访问<span class="number">172.16</span><span class="number">.212</span><span class="number">.11</span>/index.php查看其中的server_addr为后端服务器ip交替出现。</span><br><span class="line"><span class="number">4.</span> 搭建NFS文件服务器。</span><br><span class="line">- 为了使<span class="number">2</span>、<span class="number">3</span>号服务器能够同时访问<span class="number">6</span>号服务器中的文件，就需要利用NFS实现文件共享。</span><br><span class="line">- 在<span class="number">6</span>号服务器中，执行命令：yum -y install nfs-utils，之后配置NFS端口号。</span><br></pre></td></tr></table></figure><pre><code># vi /etc/sysconfig/nfs#找到如下一行，取消注释MOUNTD_PORT=892</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>开启服务</span><br></pre></td></tr></table></figure><pre><code># 开启rpcbind服务# service rpcbind start# 开启nfs服务# service nfs start# 配置NFS服务开机自动自启chkconfig nfs on# 开启与NFS相关的端口号 TODO 未成功iptables -I INPUT -p udp --dport 111 -j ACCEPTiptables -I INPUT -p udp --dport 892 -j ACCEPTiptables -I INPUT -p tcp --dport 2049 -j ACCEPTiptables save  # TODO 没用解决方法:http://blog.163.com/xavier_666/blog/static/25884000720163299503423/</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>配置共享目录</span><br></pre></td></tr></table></figure><pre><code># 创建用于共享的目录mkdir /sharechmod 777 /share# 配置/share为共享目录，语法是“路径 IP段(权限)”， 任意IP为*表示echo &apos;/share *(rw)&apos; &gt; /etc/exports注： *号与(rw)之间并没有空格# 使配置生效service nfs reload</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>在2号服务器中挂载NFS共享目录，实现远程文件的读写操作。</span><br></pre></td></tr></table></figure><pre><code># 安装NFS软件包yum -y install nfs-utils# 查看NFS服务器中的共享目录showmout -e 172.16.212.16# 将NFS服务器中的共享/share目录挂载到本地目录&quot;/data/share&quot;（也可以是其他目录）mkdir /data/sharemount 172.15.212.15:/share /data/share# 读写文件测试cd /data/shareecho Hello  &gt;test.txtcat test.txt# 使2号服务器开启自动挂载NFS目录echo &apos;172.16.212.16:/share /data/share nfs defaults 0 0&apos; &gt;&gt; /etc/fstab</code></pre><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>在2号服务器中配置文件缓存。通过部署文件缓存服务器降低后端文件存储服务器的压力。</span><br><span class="line">![<span class="string">image</span>](<span class="link">https://note.youdao.com/yws/api/personal/file/WEBb66f7180d6ba8085b9832efe20000900?method=download&amp;shareKey=0eb6d6d844c9ab099aaf94c748765dcd</span>)</span><br><span class="line"><span class="bullet">5. </span>配置文件上传服务器，3号服务器。</span><br><span class="line"><span class="bullet">- </span>挂载NFS共享目录</span><br><span class="line"><span class="bullet">- </span>配置Nginx对请求数据量的限制。</span><br></pre></td></tr></table></figure><pre><code>#在server块中client_max_body_size 20m;另外，在php.ini中对于上传文件的限制，增加到10M.# vi /usr/local/php/lib/php.inipost_max_size=20M  # 通过POST提交的最大限制file_uploads=On    # 是否允许文件上传upload_max_filesize=10M    # 上传文件最大限制;upload_tmp_dir=           # 上传文件临时保存目录，默认为/tmp目录# 重启服务service php-fpm reloadservcie nginx reload</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>上传文件测试 在第三个服务器上编写如下脚本页面：</span><br></pre></td></tr></table></figure><p><form method="post" enctype="multipart/form-data"><br>    <input type="file" name="up"><br>    <input type="submit"><br></form><br>&lt;?php<br>if(isset($_FILES[‘up’])&amp;&amp;$_FILES[‘up’][‘error’] == 0) {<br>    $savepath=’uploads/‘.time().’.dat’;<br>    if(move_uploaded_file($_FILES[‘up’][‘tmp_name’], “/data/share/$savepath”)) {<br>    echo “File:<a href="\" http: file.itshop.test $savepath\"">Download</a>“;<br>    }<br>}<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby"> 测试后，发现<span class="number">6</span>号文件服务器中/share/upload/目录下存在上传的文件。</span></span><br><span class="line"><span class="ruby"><span class="number">6</span>. 搭建MySQL数据库服务器。</span></span><br><span class="line"><span class="ruby">- 安装依赖包 yum -y install gcc-c++ cmake ncurses-devel</span></span><br><span class="line"><span class="ruby">- 下载免安装的mysql，解压文件到/usr/local。</span></span><br><span class="line"><span class="ruby">- 在/etc/bashrc中设置环境变量添加指向Mysql下bin目录。</span></span><br><span class="line"><span class="ruby">- 配置MySQL。</span></span><br></pre></td></tr></table></figure></p><pre><code>vi /etc/my.cnf#找到如下配置进行更改datadir=/data/mysqlsocket=/tmp/mysql.sockuser=mysql# 根据my.cnf中的配置，创建mysql用户useradd -s /sbin/nologin -M mysql# 运行mysql_install_db程序初始化数据库，初始化后将会在数据库中保存目录中生成的数据库文件./scripts/mysql_install_db  [ 未完成 ]#启动MySql在mysql目录的bin目录下启动mysqld#配置防火墙允许3306端口访问。iptables -I INPUT -p tcp --dport 3306 -j ACCEPT# 启动mysql后修改密码./mysqladmin -uroot -pCcRH#UK2Nztn password 123456</code></pre><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby"> 实现MySQL主从复制</span></span><br><span class="line"><span class="ruby">- 基于<span class="number">7</span>号服务器克隆出<span class="number">8</span>号服务器，配置网络信息。</span></span><br><span class="line"><span class="ruby">- 主数据库服务器开启bin日志</span></span><br></pre></td></tr></table></figure><pre><code># vi /etc/my.conflog-bin=mysqlbin-logserver-id=17</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>创建用于从数据库登录主数据库的用户</span><br></pre></td></tr></table></figure><pre><code>CREATE USER &apos;slave&apos;@&apos;172.16.212.18&apos; IDENTIFIED BY &apos;123456&apos;;</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>配置从服务器。</span><br></pre></td></tr></table></figure><pre><code>mysql&gt; CHANGE MASTER TO master_host=&apos;172.16.212.17&apos;, master_user=&apos;slave&apos;, \-&gt; master_password=&apos;123456&apos;, master_log_file=&apos;mysqlbin-log.000002&apos;, master_log_pos=639;mysql&gt; start slave;mysql&gt; show slave status \G# 若要停止从服务器同步，在从服务器mysql中执行slave stop# 检测 TODO 主从数据库  相关命令在主数据库中插入数据，从数据库中同样也插入数据。在从数据库中插入数据，在主数据库中并不能看到数据。成功。</code></pre><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">7. </span>搭建Memcached缓存服务器。</span><br><span class="line"><span class="bullet">- </span>安装依赖包：yum -y install gcc libevent-devel</span><br><span class="line"><span class="bullet">- </span>编译安装Memcached</span><br></pre></td></tr></table></figure><pre><code>tar -zxvf memcached-1.5.8.tar.gzcd memcached-1.5.8./configuremake &amp;&amp; make install</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>添加系统服务、配置开机自启</span><br></pre></td></tr></table></figure><pre><code>cd scriptscp memcached-init /etc/init.d/memcachedchkconfig --add memcached</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>在memcached服务脚本中还调用了start-memcached脚本，需拷贝</span><br></pre></td></tr></table></figure><pre><code>mkdir -p /usr/share/memcached/scriptscp start-memcached /usr/share/memcached/scripts/</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>为start-memcached脚本创建连接</span><br></pre></td></tr></table></figure><pre><code>ln -s /usr/local/bin/memcached /usr/bin/memcached</code></pre><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 目前还不能通过service命令启动memcached服务，因为memcached中的脚本依赖于perl和<span class="literal">start</span>-<span class="literal">stop</span>-daemon，需单独下载。</span><br></pre></td></tr></table></figure><pre><code>tar -xvf dpkg_1.13.11.tar.gz cd dpkg-1.13.11/./configure --without-libselinux &amp;&amp; makecp utils/start-stop-daemon /usr/local/sbin/</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>启动Memcached服务。</span><br></pre></td></tr></table></figure><pre><code>vi /etc/memcached.conf 创建配置文件，内容如下：-m 512      # 分配的内存大小，单位是MB，默认为64MB-p 11211    # 配置监听的TCP端口，默认为11211-u nobody   # 配置Memcached的工作用户-c 1024     # 配置最高并发连接数，默认1024-t 16       # 配置使用的线程数，默认为4注：可以通过：/usr/local/bin/memcached -H 查看说明，根据服务器的硬件配置。service memcached startiptables -I INPUT -p tcp --dport 11211 -j ACCEPT</code></pre><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>PHP访问Memcached。</span><br></pre></td></tr></table></figure><pre><code>将PHP的Memcached扩展和libmemcached下载到3、4、5号服务器中，进行以下安装过程:# 安装依赖包yum -y install cyrus-sasl-devel# 编译安装libmemcachedtar -zxvf libmemcached-1.0.18.tar.gz cd libmemcached-1.0.18./configure &amp;&amp; make &amp;&amp; make install &amp;&amp; cd ..# php7 这种方法不行# 为PHP的Memcached扩展生成configure文件tar -zxvf memcached-2.2.0.tgzcd memcached-2.2.0/usr/local/php/bin/phpize# 编译安装PHP的Memcached扩展./configure --with-php-config=/usr/local/php/bin/php-configmake &amp;&amp; make install &amp;&amp; cd ..https://blog.csdn.net/xahuo/article/details/50372736# 在PHP配置文件php.ini中加载Memcached扩展vi /usr/local/php/lib/php.ini; memcached extensionextension=usr/local/php/lib/php/extensions/no-debug-non-zts-20151012/memcached.so# PHP_FPM重新加载配置service php-fpm reload# 在/data/www下编写测试页面test.php&lt;?php$mem=new Memcached();$mem-&gt;addServer(&apos;172.16.212.19&apos;, 11211);$mem-&gt;set(&apos;UserName&apos;, &apos;James&apos;);echo $mem-&gt;get(&apos;UserName&apos;);?&gt;# 使用telnet测试端口是否可以访问: telnet 172.16.212.19 11211# 9号服务器需要打开端口iptables -I INPUT -p tcp --dport 11211 -j ACCEPT# 访问成功</code></pre><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">8. </span>ThinkPHP项目部署</span><br><span class="line"><span class="bullet">- </span>创建MySQL独立数据库用户</span><br></pre></td></tr></table></figure><pre><code># 在7号服务器中启动MySql客户端，登录MySql服务器mysql -uroot -p123456# 创建数据库CREATE DATABASE itshop;# 为4、5号服务器创建无权限用户itshop，密码为123456create user &apos;itshop&apos;@&apos;172.16.212.14&apos; identified by &apos;123456&apos;;create user &apos;itshop&apos;@&apos;172.16.212.15&apos; identified by &apos;123456&apos;;# 为用户分配指定数据库的权限</code></pre><p><code>`</code></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>VIM 快捷键</title>
      <link href="/2018/05/04/VIM-%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/2018/05/04/VIM-%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h1><h2 id="Vim-快捷键"><a href="#Vim-快捷键" class="headerlink" title="Vim 快捷键"></a>Vim 快捷键</h2><h3 id="map-可以将功能键映射为命令组合，不同模式不同含义。"><a href="#map-可以将功能键映射为命令组合，不同模式不同含义。" class="headerlink" title="map 可以将功能键映射为命令组合，不同模式不同含义。"></a>map 可以将功能键映射为命令组合，不同模式不同含义。</h3><h3 id="录制宏，重复工作自动化完成。"><a href="#录制宏，重复工作自动化完成。" class="headerlink" title="录制宏，重复工作自动化完成。"></a>录制宏，重复工作自动化完成。</h3><h3 id="一、正常模式-Normal-mode"><a href="#一、正常模式-Normal-mode" class="headerlink" title="一、正常模式(Normal-mode)"></a>一、正常模式(Normal-mode)</h3><p>用户刚启动进入正常模式下，其他模式下按下Esc键/Control + [（更方便）进入再次正常模式。</p><ul><li>r : <strong>替换</strong>当前光标下字符。</li><li>R : <strong>一直替换</strong>光标所在的文字，直到按下Esc键/Control + [ （常用）。</li></ul><h4 id="1-移动光标"><a href="#1-移动光标" class="headerlink" title="1. 移动光标"></a>1. 移动光标</h4><h5 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h5><ul><li>h : 左。</li><li>l : 右。 # w更常用。</li><li>j : 下。</li><li>k : 上。</li></ul><h5 id="单词"><a href="#单词" class="headerlink" title="单词"></a>单词</h5><ul><li>w : 移至下一个单词的词首。</li><li>e : 移至当前或下一个单词的词尾。</li><li>b : 光标向前移动一个词。<h5 id="行间"><a href="#行间" class="headerlink" title="行间"></a>行间</h5></li><li>gg : 移至第一行。</li><li>G : 移至最后一行。</li></ul><h5 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h5><ul><li>fx ：移动光标到当前行的下一个x处,x可以是任意一个字母，使用;来重复你的上一个f命令。</li><li>Fx ：类似fx，反向。</li><li>tx ：移动光标到当前行的下一个x处的左边一个位置。</li></ul><h4 id="2-删除"><a href="#2-删除" class="headerlink" title="2. 删除"></a>2. 删除</h4><ul><li>x :  <strong>删除</strong>当前光标所在处的单个<strong>字符</strong>。</li><li>dd : <strong>删除</strong>当前光标所在处的行。</li><li>dw : <strong>删除</strong>当前光标所在处的单词。</li><li>D : 删除到行尾的内容。</li></ul><h4 id="3-复制"><a href="#3-复制" class="headerlink" title="3. 复制"></a>3. 复制</h4><ul><li>y命令 : 用法同删除d命令。</li></ul><h4 id="4-粘贴"><a href="#4-粘贴" class="headerlink" title="4. 粘贴"></a>4. 粘贴</h4><ul><li>p : 粘贴到所在行的下一行或者所在字符的后面。</li><li>P : 粘贴到所在行的上一行或者所在字符的前面。</li></ul><h4 id="5-撤消"><a href="#5-撤消" class="headerlink" title="5. 撤消"></a>5. 撤消</h4><ul><li>u : 撤消前一次操作。</li><li>Control + r : 撤消最近一次撤消操作。</li></ul><h4 id="6-翻屏"><a href="#6-翻屏" class="headerlink" title="6. 翻屏"></a>6. 翻屏</h4><ul><li>Control + u ：向上翻半屏。</li><li>Control + d ：向下翻半屏。</li><li>Control + f ：向下翻一屏。</li><li>Control + b ：向上翻一屏。</li></ul><h4 id="7-正常模式转插入模式"><a href="#7-正常模式转插入模式" class="headerlink" title="7. 正常模式转插入模式"></a>7. 正常模式转插入模式</h4><ul><li>i : 在所在<strong>光标前</strong>，进入插入模式下。</li><li>I : 在当前光标所在行的<strong>行首</strong>，进入插入模式。</li><li>a : 在所在<strong>光标后</strong>，进入插入模式下。</li><li>A : 在当前光标所在行的<strong>行尾</strong>，进入插入模式。</li><li>o : 在当前光标所在行的下面，<strong>新建一行</strong>，进入插入模式。</li><li>O : 在当前光标所在行的上面，<strong>新建一行</strong>，进入插入模式。</li><li>c : 如同命令d删除功能，但可以直接进入插入模式下，配合Visual模式和fx命令更佳。</li><li>ci（ ：删除（）括号中的内容并直接进入插入模式下。</li><li>ci { ：删除{}括号中的内容并直接进入插入模式下。</li></ul><h4 id="8-正常模式转命令行模式"><a href="#8-正常模式转命令行模式" class="headerlink" title="8. 正常模式转命令行模式"></a>8. 正常模式转命令行模式</h4><ul><li>: : 进入<strong>命令行</strong>模式下。</li></ul><h4 id="9-避免重复"><a href="#9-避免重复" class="headerlink" title="9. 避免重复"></a>9. 避免重复</h4><ul><li>. ：重复上一个命令。如dw，之后按.再次删除一个单词。</li><li>数字 + 命令 : 重复命令。</li></ul><h4 id="10-vim写代码"><a href="#10-vim写代码" class="headerlink" title="10. vim写代码"></a>10. vim写代码</h4><ul><li>>&gt; ：缩进所有选择的代码。</li><li>&lt;&lt;  ：反缩进所选择的代码。</li><li>gd  ：到达光标所在处函数或者变量的定义处。</li><li>* ：跳转到下一个相同单词。</li></ul><h4 id="11-历史命令"><a href="#11-历史命令" class="headerlink" title="11. 历史命令"></a>11. 历史命令</h4><ul><li>q: ：进入历史命令。</li></ul><h3 id="二、插入模式-Insert-mode"><a href="#二、插入模式-Insert-mode" class="headerlink" title="二、插入模式(Insert-mode)"></a>二、插入模式(Insert-mode)</h3><p>在正常模式下按下i键进入插入模式。</p><ul><li>Control + n : 向下寻找匹配的关键字，显示出代码补全框后使用。（idea中同样适用）</li><li>Control + p : 向上寻找匹配的关键字。（idea中同样适用）</li></ul><h3 id="三、命令行模式-Command-mode"><a href="#三、命令行模式-Command-mode" class="headerlink" title="三、命令行模式(Command-mode)"></a>三、命令行模式(Command-mode)</h3><ul><li>q : 退出。</li><li>q! : 强制退出。</li><li>w : 保存。</li><li>wq : 保存并退出。</li></ul><h3 id="四、可视模式-Visual-mode"><a href="#四、可视模式-Visual-mode" class="headerlink" title="四、可视模式(Visual-mode)"></a>四、可视模式(Visual-mode)</h3><ul><li>v ：按字符选择。</li><li>V ：按行选择。多行拷贝。</li></ul>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
